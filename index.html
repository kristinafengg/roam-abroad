<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Roam ‚Äî Study Abroad Planner</title>
  <link
    href="https://fonts.googleapis.com/css2?family=Fraunces:ital,wght@0,300;0,700;0,900;1,300;1,700&family=DM+Sans:wght@300;400;500;600&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.js"></script>

  <!-- Firebase App (the core Firebase SDK) -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import { getAuth, signInWithPopup, GoogleAuthProvider, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";

    // TODO: USER NEEDS TO REPLACE THIS WITH THEIR ACTUAL FIREBASE CONFIG
    const firebaseConfig = {
      apiKey: "PLEASE_ADD_YOUR_API_KEY_HERE",
      authDomain: "PLEASE_ADD_YOUR_AUTH_DOMAIN_HERE",
      projectId: "PLEASE_ADD_YOUR_PROJECT_ID_HERE",
      storageBucket: "PLEASE_ADD_YOUR_STORAGE_BUCKET_HERE",
      messagingSenderId: "PLEASE_ADD_YOUR_SENDER_ID_HERE",
      appId: "PLEASE_ADD_YOUR_APP_ID_HERE"
    };

    let app, auth, provider;

    try {
      app = initializeApp(firebaseConfig);
      auth = getAuth(app);
      provider = new GoogleAuthProvider();

      onAuthStateChanged(auth, (user) => {
        const authBtn = document.getElementById('authBtn');
        if (user) {
          // User is signed in
          authBtn.innerHTML = `<img src="${user.photoURL}" alt="Profile" style="width:100%;height:100%;border-radius:50%;object-fit:cover;">`;
          authBtn.onclick = () => {
            if (confirm("Sign out of Roam?")) signOut(auth);
          };
          window.toast(`Welcome back, ${user.displayName.split(' ')[0]}!`);
        } else {
          // User is signed out
          authBtn.innerHTML = `Login`;
          authBtn.onclick = () => {
            signInWithPopup(auth, provider).catch((error) => {
              console.error("Auth Error:", error);
              window.toast("Login failed. Check console.");
            });
          };
        }
      });
    } catch (e) {
      console.warn("Firebase not properly configured yet.", e);
    }
  </script>

  <style>
    :root {
      --teal: #1E7A6E;
      --teal-light: #3BAA8C;
      --blue: #2D7DD2;
      --deep: #0D2B2A;
      --muted: #4A7A74;
      --mint: #F0FAF8;
      --sand: #E8F4F2;
      --border: #C8E6E2;
      --white: #FFFFFF;
      --plane-col: #2D7DD2;
      --train-col: #1E7A6E;
      --bus-col: #E09A20;
      --danger: #D14040;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html,
    body {
      height: 100%;
      overflow: hidden;
      font-family: 'DM Sans', sans-serif;
      background: var(--mint);
      color: var(--deep);
    }

    /* NAV */
    nav {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 2000;
      height: 62px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 24px;
      background: rgba(240, 250, 248, 0.97);
      backdrop-filter: blur(18px);
      border-bottom: 1px solid var(--border);
    }

    .logo {
      font-family: 'Fraunces', serif;
      font-size: 23px;
      font-weight: 900;
      color: var(--teal);
      letter-spacing: -1px;
    }

    .nav-tabs {
      display: flex;
      gap: 4px;
      background: var(--sand);
      padding: 5px;
      border-radius: 100px;
      border: 1px solid var(--border);
    }

    .nav-tab {
      padding: 6px 18px;
      border-radius: 100px;
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      border: none;
      background: none;
      font-family: 'DM Sans', sans-serif;
      color: var(--muted);
      transition: all .2s;
      white-space: nowrap;
    }

    .nav-tab.active {
      background: var(--white);
      color: var(--deep);
      box-shadow: 0 2px 8px rgba(13, 43, 42, .1);
    }

    .nav-right {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .btn-nav {
      background: var(--teal);
      color: #fff;
      padding: 8px 16px;
      border-radius: 100px;
      font-size: 12px;
      font-weight: 600;
      border: none;
      cursor: pointer;
      font-family: 'DM Sans', sans-serif;
      transition: background .2s, transform .15s;
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .btn-nav:hover {
      background: var(--deep);
      transform: translateY(-1px);
    }

    .avatar {
      width: 34px;
      height: 34px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--teal), var(--blue));
      color: #fff;
      font-weight: 700;
      font-size: 13px;
      border: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .avatar:hover {
      box-shadow: 0 0 0 2px var(--border);
    }

    /* APP */
    .app {
      display: flex;
      height: calc(100vh - 62px);
      margin-top: 62px;
    }

    .sidebar {
      width: 360px;
      flex-shrink: 0;
      background: var(--white);
      border-right: 1px solid var(--border);
      display: flex;
      flex-direction: column;
      overflow: hidden;
      z-index: 100;
    }

    .panel {
      display: none;
      flex-direction: column;
      flex: 1;
      overflow: hidden;
    }

    .panel.visible {
      display: flex;
    }

    /* SPOTS PANEL */
    .spots-hd {
      padding: 16px 16px 10px;
      border-bottom: 1px solid var(--border);
      flex-shrink: 0;
    }

    .panel-title {
      font-family: 'Fraunces', serif;
      font-size: 18px;
      font-weight: 900;
      color: var(--deep);
      letter-spacing: -.5px;
      margin-bottom: 8px;
    }

    .search-row {
      display: flex;
      align-items: center;
      gap: 7px;
      background: var(--sand);
      border-radius: 10px;
      padding: 8px 12px;
      border: 1.5px solid var(--border);
      transition: border-color .2s;
    }

    .search-row:focus-within {
      border-color: var(--teal);
    }

    .search-row input {
      border: none;
      background: none;
      font-family: 'DM Sans', sans-serif;
      font-size: 13px;
      color: var(--deep);
      width: 100%;
      outline: none;
    }

    .search-row input::placeholder {
      color: var(--muted);
    }

    .fstrip {
      display: flex;
      gap: 5px;
      padding: 8px 16px;
      overflow-x: auto;
      border-bottom: 1px solid var(--border);
      scrollbar-width: none;
      flex-shrink: 0;
    }

    .fstrip::-webkit-scrollbar {
      display: none;
    }

    .fc {
      padding: 5px 12px;
      border-radius: 100px;
      font-size: 11px;
      font-weight: 500;
      white-space: nowrap;
      cursor: pointer;
      border: 1.5px solid var(--border);
      color: var(--muted);
      background: #fff;
      transition: all .18s;
      font-family: 'DM Sans', sans-serif;
    }

    .fc.on {
      background: var(--teal);
      color: #fff;
      border-color: var(--teal);
    }

    .fc:hover:not(.on) {
      border-color: var(--teal);
      color: var(--teal);
    }

    .spots-scroll {
      flex: 1;
      overflow-y: auto;
      padding: 10px;
      scrollbar-width: thin;
      scrollbar-color: var(--border) transparent;
    }

    .spot-row {
      display: flex;
      gap: 10px;
      align-items: flex-start;
      padding: 10px;
      border-radius: 11px;
      cursor: pointer;
      transition: background .15s;
      margin-bottom: 2px;
      border: 1.5px solid transparent;
      position: relative;
    }

    .spot-row:hover {
      background: var(--mint);
    }

    .spot-row:hover .sact {
      opacity: 1;
    }

    .spot-row.lit {
      background: var(--sand);
      border-color: var(--border);
    }

    .spot-icon {
      width: 38px;
      height: 38px;
      border-radius: 9px;
      flex-shrink: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 17px;
    }

    .ic-food {
      background: rgba(30, 122, 110, .12);
    }

    .ic-view {
      background: rgba(45, 125, 210, .12);
    }

    .ic-cafe {
      background: rgba(59, 170, 140, .12);
    }

    .ic-night {
      background: rgba(26, 107, 158, .12);
    }

    .ic-cult {
      background: rgba(13, 43, 42, .08);
    }

    .ic-nat {
      background: rgba(59, 170, 140, .15);
    }

    .ic-city {
      background: rgba(224, 154, 32, .12);
    }

    .spot-info {
      flex: 1;
      min-width: 0;
    }

    .spot-top {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 5px;
    }

    .spot-nm {
      font-family: 'Fraunces', serif;
      font-size: 13px;
      font-weight: 700;
      color: var(--deep);
      letter-spacing: -.2px;
      line-height: 1.3;
    }

    .spot-badge {
      background: var(--sand);
      border-radius: 5px;
      padding: 2px 6px;
      font-size: 10px;
      font-weight: 600;
      color: var(--teal);
      flex-shrink: 0;
      white-space: nowrap;
    }

    .spot-sub {
      font-size: 11px;
      color: var(--muted);
      margin-top: 2px;
    }

    .spot-pills {
      display: flex;
      gap: 3px;
      margin-top: 4px;
      flex-wrap: wrap;
    }

    .spot-pill {
      background: var(--mint);
      color: var(--teal);
      font-size: 10px;
      padding: 1px 6px;
      border-radius: 100px;
    }

    .sact {
      position: absolute;
      right: 8px;
      top: 8px;
      display: flex;
      gap: 4px;
      opacity: 0;
      transition: opacity .15s;
    }

    .sact-btn {
      width: 26px;
      height: 26px;
      border-radius: 6px;
      border: 1px solid var(--border);
      background: #fff;
      cursor: pointer;
      font-size: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all .15s;
    }

    .sact-btn:hover {
      background: var(--sand);
    }

    .sact-btn.del:hover {
      background: #fee;
      border-color: #faa;
      color: var(--danger);
    }

    .spots-footer {
      padding: 10px 16px;
      border-top: 1px solid var(--border);
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-shrink: 0;
    }

    .spots-count {
      font-size: 11px;
      color: var(--muted);
    }

    .spots-count strong {
      color: var(--deep);
    }

    .empty-msg {
      font-size: 13px;
      color: var(--muted);
      padding: 8px 0;
      line-height: 1.6;
    }

    /* ROUTES PANEL */
    .trips-bar {
      display: flex;
      gap: 5px;
      padding: 8px 14px;
      overflow-x: auto;
      border-bottom: 1px solid var(--border);
      scrollbar-width: none;
      flex-shrink: 0;
      align-items: center;
    }

    .trips-bar::-webkit-scrollbar {
      display: none;
    }

    .tchip {
      padding: 5px 11px;
      border-radius: 100px;
      font-size: 11px;
      font-weight: 600;
      white-space: nowrap;
      cursor: pointer;
      border: 1.5px solid var(--border);
      color: var(--muted);
      background: #fff;
      transition: all .18s;
      font-family: 'DM Sans', sans-serif;
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .tchip.cur {
      background: var(--teal);
      color: #fff;
      border-color: var(--teal);
    }

    .tchip:hover:not(.cur) {
      border-color: var(--teal);
      color: var(--teal);
    }

    .tchip-x {
      font-size: 10px;
      opacity: .7;
      margin-left: 1px;
    }

    .tchip-x:hover {
      opacity: 1;
    }

    .tnew {
      padding: 5px 11px;
      border-radius: 100px;
      font-size: 11px;
      font-weight: 600;
      white-space: nowrap;
      cursor: pointer;
      border: 1.5px dashed var(--border);
      color: var(--muted);
      background: transparent;
      transition: all .18s;
      font-family: 'DM Sans', sans-serif;
    }

    .tnew:hover {
      border-color: var(--teal);
      color: var(--teal);
    }

    .rt-top {
      padding: 14px 16px 10px;
      border-bottom: 1px solid var(--border);
      flex-shrink: 0;
    }

    .mode-row {
      display: flex;
      gap: 5px;
      margin-bottom: 10px;
    }

    .mode-btn {
      flex: 1;
      padding: 7px 4px;
      border-radius: 8px;
      border: 1.5px solid var(--border);
      font-size: 11px;
      font-weight: 600;
      cursor: pointer;
      font-family: 'DM Sans', sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 2px;
      background: #fff;
      color: var(--muted);
      transition: all .18s;
    }

    .mode-btn .mico {
      font-size: 16px;
    }

    .mode-btn.mp {
      background: rgba(45, 125, 210, .1);
      border-color: var(--plane-col);
      color: var(--plane-col);
    }

    .mode-btn.mt {
      background: rgba(30, 122, 110, .1);
      border-color: var(--train-col);
      color: var(--train-col);
    }

    .mode-btn.mb {
      background: rgba(224, 154, 32, .1);
      border-color: var(--bus-col);
      color: #A07010;
    }

    .csw {
      position: relative;
      margin-bottom: 8px;
    }

    .csi {
      width: 100%;
      padding: 9px 14px 9px 34px;
      border: 1.5px solid var(--border);
      border-radius: 10px;
      font-family: 'DM Sans', sans-serif;
      font-size: 13px;
      color: var(--deep);
      background: var(--sand);
      outline: none;
      transition: border-color .2s;
    }

    .csi:focus {
      border-color: var(--teal);
      background: #fff;
    }

    .csi-ico {
      position: absolute;
      left: 11px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 13px;
      pointer-events: none;
    }

    .cdd {
      position: absolute;
      top: calc(100% + 4px);
      left: 0;
      right: 0;
      background: #fff;
      border: 1px solid var(--border);
      border-radius: 12px;
      box-shadow: 0 8px 28px rgba(13, 43, 42, .13);
      z-index: 500;
      max-height: 200px;
      overflow-y: auto;
      display: none;
    }

    .cdd.open {
      display: block;
    }

    .cdd-item {
      padding: 8px 12px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 13px;
      transition: background .1s;
    }

    .cdd-item:hover {
      background: var(--mint);
    }

    .cdi-n {
      font-weight: 600;
      color: var(--deep);
      font-size: 12px;
    }

    .cdi-c {
      font-size: 10px;
      color: var(--muted);
    }

    .slbl {
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 1px;
      color: var(--muted);
      font-weight: 600;
      padding: 0 16px 5px;
      flex-shrink: 0;
    }

    .rt-scroll {
      flex: 1;
      overflow-y: auto;
      padding: 0 16px 10px;
      scrollbar-width: thin;
      scrollbar-color: var(--border) transparent;
    }

    .si {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 6px 0;
      position: relative;
    }

    .sln {
      position: absolute;
      left: 12px;
      top: 24px;
      width: 2px;
      height: calc(100% + 2px);
      opacity: .25;
    }

    .snum {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      flex-shrink: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 10px;
      font-weight: 700;
      color: #fff;
      border: 2px solid #fff;
      box-shadow: 0 2px 6px rgba(0, 0, 0, .15);
      position: relative;
      z-index: 1;
    }

    .stxt {
      flex: 1;
      min-width: 0;
    }

    .scn {
      font-family: 'Fraunces', serif;
      font-size: 13px;
      font-weight: 700;
      color: var(--deep);
    }

    .scc {
      font-size: 10px;
      color: var(--muted);
    }

    .sdel {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      border: 1px solid var(--border);
      background: #fff;
      cursor: pointer;
      font-size: 10px;
      color: var(--muted);
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all .15s;
      flex-shrink: 0;
    }

    .sdel:hover {
      background: #fee;
      border-color: #faa;
      color: var(--danger);
    }

    .leg-i {
      display: flex;
      align-items: center;
      gap: 4px;
      padding: 2px 0 2px 32px;
      font-size: 10px;
      color: var(--muted);
    }

    .rt-stats {
      display: flex;
      border-top: 1px solid var(--border);
      border-bottom: 1px solid var(--border);
      flex-shrink: 0;
    }

    .rstat {
      flex: 1;
      padding: 9px 0;
      text-align: center;
      border-right: 1px solid var(--border);
    }

    .rstat:last-child {
      border-right: none;
    }

    .rstat-n {
      font-family: 'Fraunces', serif;
      font-size: 15px;
      font-weight: 900;
      color: var(--teal);
    }

    .rstat-l {
      font-size: 9px;
      text-transform: uppercase;
      letter-spacing: .8px;
      color: var(--muted);
      margin-top: 1px;
    }

    .picker-scroll {
      overflow-y: auto;
      padding: 0 14px;
      scrollbar-width: thin;
      scrollbar-color: var(--border) transparent;
      flex: 1;
    }

    .rhdr {
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 1.2px;
      color: var(--muted);
      font-weight: 600;
      margin: 10px 0 5px;
    }

    .chips-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 4px;
      margin-bottom: 2px;
    }

    .city-chip {
      padding: 7px 8px;
      border-radius: 8px;
      border: 1.5px solid var(--border);
      cursor: pointer;
      background: #fff;
      display: flex;
      align-items: center;
      gap: 5px;
      transition: all .15s;
    }

    .city-chip:hover {
      border-color: var(--teal);
      background: var(--mint);
    }

    .city-chip.added {
      border-color: var(--teal);
      background: rgba(30, 122, 110, .07);
    }

    .ccf {
      font-size: 14px;
    }

    .ccn {
      font-size: 11px;
      font-weight: 600;
      color: var(--deep);
    }

    .ccc {
      font-size: 9px;
      color: var(--muted);
    }

    .cck {
      margin-left: auto;
      font-size: 10px;
      color: var(--teal);
      font-weight: 700;
    }

    .rt-acts {
      display: flex;
      gap: 6px;
      padding: 10px 16px;
      border-top: 1px solid var(--border);
      flex-shrink: 0;
    }

    .bsm {
      flex: 1;
      padding: 9px;
      border-radius: 100px;
      font-family: 'DM Sans', sans-serif;
      font-size: 12px;
      font-weight: 600;
      cursor: pointer;
      transition: all .2s;
    }

    .bg {
      border: 1.5px solid var(--border);
      background: #fff;
      color: var(--muted);
    }

    .bg:hover {
      border-color: var(--teal);
      color: var(--teal);
    }

    .bs {
      border: none;
      background: var(--teal);
      color: #fff;
    }

    .bs:hover {
      background: var(--deep);
    }

    .bbl {
      border: none;
      background: var(--blue);
      color: #fff;
    }

    .bbl:hover {
      background: var(--deep);
    }

    /* MAP */
    #map {
      flex: 1;
      z-index: 1;
    }

    .leaflet-container {
      font-family: 'DM Sans', sans-serif !important;
    }

    .base-dot-wrap {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 2px;
      cursor: pointer;
    }

    .base-dot {
      border-radius: 50%;
      border: 2.5px solid #fff;
      box-shadow: 0 2px 6px rgba(0, 0, 0, .2);
      transition: transform .18s;
    }

    .base-dot-wrap:hover .base-dot {
      transform: scale(1.5);
    }

    .base-lbl {
      background: rgba(255, 255, 255, .93);
      backdrop-filter: blur(4px);
      border-radius: 5px;
      padding: 2px 6px;
      font-size: 10px;
      font-weight: 600;
      color: var(--deep);
      box-shadow: 0 1px 4px rgba(0, 0, 0, .1);
      white-space: nowrap;
    }

    .rnum-wrap {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 2px;
    }

    .rnum-dot {
      border-radius: 50%;
      border: 2.5px solid #fff;
      box-shadow: 0 3px 10px rgba(0, 0, 0, .25);
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-size: 10px;
      font-weight: 700;
      width: 24px;
      height: 24px;
    }

    .rnum-lbl {
      background: rgba(255, 255, 255, .95);
      border-radius: 5px;
      padding: 2px 7px;
      font-size: 10px;
      font-weight: 700;
      color: var(--deep);
      box-shadow: 0 1px 4px rgba(0, 0, 0, .12);
      white-space: nowrap;
    }

    .spot-pw {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .spot-pd {
      width: 30px;
      height: 30px;
      border-radius: 50% 50% 50% 0;
      transform: rotate(-45deg);
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 3px 10px rgba(0, 0, 0, .22);
    }

    .spot-pi {
      transform: rotate(45deg);
      font-size: 14px;
    }

    .spot-pl {
      background: rgba(255, 255, 255, .95);
      border-radius: 5px;
      padding: 2px 6px;
      font-size: 10px;
      font-weight: 600;
      color: var(--deep);
      margin-top: 2px;
      box-shadow: 0 1px 4px rgba(0, 0, 0, .1);
      white-space: nowrap;
      max-width: 110px;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .arc-lbl {
      background: rgba(255, 255, 255, .95);
      border: 1px solid var(--border);
      border-radius: 7px;
      padding: 3px 8px;
      font-size: 10px;
      font-weight: 600;
      color: var(--deep);
      box-shadow: 0 2px 8px rgba(0, 0, 0, .1);
      display: flex;
      align-items: center;
      gap: 4px;
      white-space: nowrap;
    }

    /* POPUPS */
    .leaflet-popup-content-wrapper {
      border-radius: 15px !important;
      box-shadow: 0 12px 36px rgba(13, 43, 42, .16) !important;
      border: 1px solid var(--border);
      padding: 0 !important;
      overflow: hidden;
    }

    .leaflet-popup-content {
      margin: 0 !important;
      min-width: 220px;
    }

    .leaflet-popup-tip {
      background: #fff !important;
    }

    .leaflet-popup-close-button {
      top: 9px !important;
      right: 11px !important;
      color: var(--muted) !important;
      font-size: 16px !important;
    }

    .pu-hd {
      padding: 14px 14px 10px;
      border-bottom: 1px solid var(--border);
    }

    .pu-cat {
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 1px;
      color: var(--muted);
      margin-bottom: 2px;
    }

    .pu-name {
      font-family: 'Fraunces', serif;
      font-size: 16px;
      font-weight: 900;
      color: var(--deep);
      letter-spacing: -.4px;
    }

    .pu-loc {
      font-size: 11px;
      color: var(--muted);
      margin-top: 2px;
    }

    .pu-body {
      padding: 10px 14px;
    }

    .pu-stars {
      color: #F5A623;
      font-size: 12px;
    }

    .pu-note {
      font-size: 12px;
      line-height: 1.55;
      color: var(--muted);
      margin-top: 5px;
    }

    .pu-tags {
      display: flex;
      gap: 4px;
      margin-top: 7px;
      flex-wrap: wrap;
    }

    .pu-tag {
      background: var(--sand);
      color: var(--teal);
      font-size: 10px;
      padding: 2px 7px;
      border-radius: 100px;
      font-weight: 500;
    }

    .pu-foot {
      padding: 9px 14px;
      border-top: 1px solid var(--border);
      display: flex;
      gap: 5px;
    }

    .pu-btn {
      flex: 1;
      padding: 7px;
      border-radius: 8px;
      font-size: 11px;
      font-weight: 600;
      border: none;
      cursor: pointer;
      font-family: 'DM Sans', sans-serif;
      transition: background .15s;
    }

    .pu-p {
      background: var(--teal);
      color: #fff;
    }

    .pu-p:hover {
      background: var(--deep);
    }

    .pu-s {
      background: var(--sand);
      color: var(--deep);
    }

    .pu-d {
      background: #fee;
      color: var(--danger);
    }

    .pu-d:hover {
      background: #fcc;
    }

    .pu-flag {
      font-size: 24px;
      margin-bottom: 4px;
    }

    .pu-stat {
      font-size: 11px;
      color: var(--muted);
      margin-bottom: 3px;
    }

    .pu-stat strong {
      color: var(--deep);
    }

    /* MODALS */
    .overlay {
      display: none;
      position: fixed;
      inset: 0;
      z-index: 9000;
      background: rgba(13, 43, 42, .6);
      backdrop-filter: blur(8px);
      align-items: center;
      justify-content: center;
    }

    .overlay.open {
      display: flex;
    }

    .modal {
      background: #fff;
      border-radius: 20px;
      padding: 32px;
      width: 390px;
      max-width: 95vw;
      position: relative;
      animation: fadeUp .3s ease;
      max-height: 90vh;
      overflow-y: auto;
    }

    .modal-x {
      position: absolute;
      top: 14px;
      right: 16px;
      background: none;
      border: none;
      font-size: 20px;
      cursor: pointer;
      color: var(--muted);
    }

    .modal h2 {
      font-family: 'Fraunces', serif;
      font-size: 20px;
      font-weight: 900;
      color: var(--deep);
      letter-spacing: -.8px;
      margin-bottom: 3px;
    }

    .modal-sub {
      font-size: 12px;
      color: var(--muted);
      margin-bottom: 18px;
    }

    .fgrp {
      margin-bottom: 11px;
    }

    .fgrp label {
      font-size: 10px;
      font-weight: 600;
      color: var(--deep);
      letter-spacing: .3px;
      display: block;
      margin-bottom: 4px;
      text-transform: uppercase;
    }

    .fgrp input,
    .fgrp select,
    .fgrp textarea {
      width: 100%;
      padding: 9px 11px;
      border: 1.5px solid var(--border);
      border-radius: 8px;
      font-family: 'DM Sans', sans-serif;
      font-size: 13px;
      color: var(--deep);
      background: #fff;
      outline: none;
      transition: border-color .2s;
    }

    .fgrp textarea {
      resize: none;
      height: 64px;
    }

    .fgrp input:focus,
    .fgrp select:focus,
    .fgrp textarea:focus {
      border-color: var(--teal);
    }

    .frow {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 8px;
    }

    .cat-grid {
      display: flex;
      gap: 5px;
      flex-wrap: wrap;
    }

    .cat-opt {
      padding: 5px 11px;
      border-radius: 100px;
      border: 1.5px solid var(--border);
      font-size: 11px;
      cursor: pointer;
      font-family: 'DM Sans', sans-serif;
      color: var(--muted);
      background: none;
      transition: all .15s;
    }

    .cat-opt.sel {
      background: var(--teal);
      color: #fff;
      border-color: var(--teal);
    }

    .sub-btn {
      width: 100%;
      background: var(--teal);
      color: #fff;
      border: none;
      border-radius: 100px;
      padding: 12px;
      font-family: 'DM Sans', sans-serif;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      margin-top: 5px;
      transition: background .2s;
    }

    .sub-btn:hover {
      background: var(--deep);
    }

    .sub-btn.blue {
      background: var(--blue);
    }

    .sub-btn.blue:hover {
      background: var(--deep);
    }

    /* JOURNAL */
    .jnl-hd {
      padding: 16px 16px 10px;
      border-bottom: 1px solid var(--border);
      flex-shrink: 0;
    }

    .jnl-scroll {
      flex: 1;
      overflow-y: auto;
      padding: 10px;
      scrollbar-width: thin;
      scrollbar-color: var(--border) transparent;
    }

    .jnl-footer {
      padding: 10px 16px;
      border-top: 1px solid var(--border);
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-shrink: 0;
    }

    .jnl-sort {
      display: flex;
      gap: 4px;
      margin-top: 8px;
    }

    .jsort-btn {
      padding: 4px 10px;
      border-radius: 100px;
      font-size: 11px;
      font-weight: 500;
      cursor: pointer;
      border: 1.5px solid var(--border);
      color: var(--muted);
      background: #fff;
      transition: all .15s;
      font-family: 'DM Sans', sans-serif;
    }

    .jsort-btn.on {
      background: var(--deep);
      color: #fff;
      border-color: var(--deep);
    }

    .jcard {
      background: #fff;
      border: 1.5px solid var(--border);
      border-radius: 14px;
      margin-bottom: 8px;
      cursor: pointer;
      transition: all .18s;
      position: relative;
      overflow: hidden;
    }

    .jcard:hover {
      border-color: var(--teal);
      box-shadow: 0 4px 18px rgba(13, 43, 42, .08);
    }

    .jcard:hover .jcard-acts {
      opacity: 1;
    }

    .jcard-accent {
      height: 3px;
      width: 100%;
    }

    .jcard-inner {
      padding: 12px 14px 12px;
    }

    .jcard-top {
      display: flex;
      align-items: flex-start;
      gap: 10px;
      margin-bottom: 8px;
    }

    .jcard-icon {
      width: 38px;
      height: 38px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      flex-shrink: 0;
    }

    .jcard-meta {
      flex: 1;
      min-width: 0;
    }

    .jcard-title {
      font-family: 'Fraunces', serif;
      font-size: 14px;
      font-weight: 700;
      color: var(--deep);
      letter-spacing: -.2px;
      line-height: 1.3;
    }

    .jcard-where {
      font-size: 11px;
      color: var(--muted);
      margin-top: 1px;
      display: flex;
      align-items: center;
      gap: 5px;
      flex-wrap: wrap;
    }

    .jcard-where-dot {
      width: 3px;
      height: 3px;
      border-radius: 50%;
      background: var(--border);
      display: inline-block;
    }

    .jcard-body {
      font-size: 12px;
      color: var(--muted);
      line-height: 1.55;
      margin-bottom: 8px;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .jcard-bottom {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 6px;
    }

    .jcard-tags {
      display: flex;
      gap: 4px;
      flex-wrap: wrap;
      flex: 1;
    }

    .jcard-tag {
      padding: 2px 8px;
      border-radius: 100px;
      font-size: 10px;
      font-weight: 600;
    }

    .jtag-type {
      background: var(--sand);
      color: var(--teal);
    }

    .jtag-mood {
      background: rgba(45, 125, 210, .1);
      color: var(--blue);
    }

    .jtag-custom {
      background: var(--mint);
      color: var(--muted);
      color: #5A8080;
    }

    .jcard-stars {
      color: #F5A623;
      font-size: 11px;
      white-space: nowrap;
      flex-shrink: 0;
    }

    .jcard-acts {
      position: absolute;
      top: 8px;
      right: 8px;
      display: flex;
      gap: 4px;
      opacity: 0;
      transition: opacity .15s;
      z-index: 2;
    }

    /* route stop date pill */
    .stop-date {
      font-size: 10px;
      color: var(--muted);
      margin-top: 3px;
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .stop-date-lbl {
      font-size: 9px;
      text-transform: uppercase;
      letter-spacing: .6px;
      font-weight: 600;
      color: var(--muted);
      opacity: .7;
    }

    .stop-date input {
      border: none;
      background: var(--sand);
      font-family: 'DM Sans', sans-serif;
      font-size: 10px;
      color: var(--muted);
      outline: none;
      cursor: pointer;
      border-radius: 5px;
      padding: 2px 6px;
      transition: all .15s;
      border: 1px solid transparent;
    }

    .stop-date input:hover {
      border-color: var(--border);
      background: #fff;
    }

    .stop-date input:focus {
      color: var(--teal);
      background: #fff;
      border-color: var(--teal);
    }

    .stop-date input[value]:not([value=""]) {
      color: var(--teal);
      font-weight: 600;
    }

    /* trip date range bar */
    .trip-dates-row {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 16px 6px;
      border-bottom: 1px solid var(--border);
      flex-shrink: 0;
    }

    .trip-date-field {
      display: flex;
      align-items: center;
      gap: 4px;
      flex: 1;
    }

    .trip-date-field label {
      font-size: 10px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: .5px;
      color: var(--muted);
      white-space: nowrap;
    }

    .trip-date-field input[type=date] {
      flex: 1;
      padding: 5px 8px;
      border: 1.5px solid var(--border);
      border-radius: 8px;
      font-family: 'DM Sans', sans-serif;
      font-size: 11px;
      color: var(--deep);
      background: var(--sand);
      outline: none;
      transition: border-color .2s;
    }

    .trip-date-field input[type=date]:focus {
      border-color: var(--teal);
      background: #fff;
    }

    .trip-dates-arrow {
      color: var(--muted);
      font-size: 12px;
      flex-shrink: 0;
    }

    /* TOAST */
    .toast {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%) translateY(56px);
      background: var(--deep);
      color: #fff;
      padding: 9px 20px;
      border-radius: 100px;
      font-size: 12px;
      font-weight: 500;
      z-index: 9999;
      transition: transform .3s cubic-bezier(.34, 1.56, .64, 1);
      pointer-events: none;
      white-space: nowrap;
    }

    .toast.show {
      transform: translateX(-50%) translateY(0);
    }

    /* journal entry detail modal */
    .jdetail-mood {
      display: flex;
      gap: 6px;
      flex-wrap: wrap;
      margin-bottom: 4px;
    }

    .mood-opt {
      padding: 5px 10px;
      border-radius: 100px;
      border: 1.5px solid var(--border);
      font-size: 12px;
      cursor: pointer;
      font-family: 'DM Sans', sans-serif;
      color: var(--muted);
      background: none;
      transition: all .15s;
    }

    .mood-opt.sel {
      border-color: var(--blue);
      background: rgba(45, 125, 210, .1);
      color: var(--blue);
    }

    .jtype-grid {
      display: flex;
      gap: 5px;
      flex-wrap: wrap;
    }

    .jtype-opt {
      padding: 5px 11px;
      border-radius: 100px;
      border: 1.5px solid var(--border);
      font-size: 11px;
      cursor: pointer;
      font-family: 'DM Sans', sans-serif;
      color: var(--muted);
      background: none;
      transition: all .15s;
    }

    .jtype-opt.sel {
      background: var(--teal);
      color: #fff;
      border-color: var(--teal);
    }

    /* journal detail view overlay */
    .jdetail-overlay {
      display: none;
      position: fixed;
      inset: 0;
      z-index: 9500;
      background: rgba(13, 43, 42, .65);
      backdrop-filter: blur(10px);
      align-items: center;
      justify-content: center;
    }

    .jdetail-overlay.open {
      display: flex;
    }

    .jdetail-modal {
      background: #fff;
      border-radius: 22px;
      width: 480px;
      max-width: 95vw;
      max-height: 88vh;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      position: relative;
      animation: fadeUp .3s ease;
      box-shadow: 0 24px 60px rgba(13, 43, 42, .25);
    }

    .jdetail-hero {
      padding: 24px 28px 18px;
      background: linear-gradient(135deg, var(--mint), var(--sand));
      border-bottom: 1px solid var(--border);
      display: flex;
      align-items: flex-start;
      gap: 16px;
    }

    .jdetail-type-icon {
      width: 52px;
      height: 52px;
      border-radius: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 26px;
      flex-shrink: 0;
    }

    .jdetail-hero-text {
      flex: 1;
      min-width: 0;
    }

    .jdetail-title {
      font-family: 'Fraunces', serif;
      font-size: 20px;
      font-weight: 900;
      color: var(--deep);
      letter-spacing: -.5px;
      line-height: 1.25;
    }

    .jdetail-where {
      font-size: 12px;
      color: var(--muted);
      margin-top: 4px;
    }

    .jdetail-body {
      padding: 22px 28px;
      overflow-y: auto;
      flex: 1;
      scrollbar-width: thin;
      scrollbar-color: var(--border) transparent;
    }

    .jdetail-note {
      font-size: 14px;
      line-height: 1.7;
      color: var(--deep);
      white-space: pre-wrap;
    }

    .jdetail-footer {
      padding: 16px 28px;
      border-top: 1px solid var(--border);
      display: flex;
      gap: 8px;
      flex-shrink: 0;
    }

    @keyframes fadeUp {
      from {
        opacity: 0;
        transform: translateY(14px)
      }

      to {
        opacity: 1;
        transform: translateY(0)
      }
    }

    ::-webkit-scrollbar {
      width: 3px;
    }

    ::-webkit-scrollbar-thumb {
      background: var(--border);
      border-radius: 3px;
    }
  </style>
</head>

<body>

  <nav>
    <div class="logo">roam.</div>
    <div class="nav-tabs">
      <button class="nav-tab active" id="tab-routes" onclick="switchTab('routes')">‚úàÔ∏è Routes</button>
      <button class="nav-tab" id="tab-spots" onclick="switchTab('spots')">üìç My Spots</button>
      <button class="nav-tab" id="tab-journal" onclick="switchTab('journal')">üìì Journal</button>
    </div>
    <div class="nav-right">
      <button class="btn-nav" id="navAddBtn" onclick="openSpotModal()" style="display:none">Ôºã Add Spot</button>
      <div class="avatar">A</div>
    </div>
  </nav>

  <div class="app">
    <div class="sidebar">

      <!-- SPOTS PANEL -->
      <div class="panel" id="panel-spots">
        <div class="spots-hd">
          <div class="panel-title">My Saved Spots</div>
          <div class="search-row"><span>üîç</span><input id="spotSearch" placeholder="Search spots, cities‚Ä¶"
              oninput="renderSpots()"></div>
        </div>
        <div class="fstrip">
          <button class="fc on" onclick="setFilter('All',this)">All</button>
          <button class="fc" onclick="setFilter('Food & Drink',this)">üç¥ Food</button>
          <button class="fc" onclick="setFilter('Views',this)">üåÖ Views</button>
          <button class="fc" onclick="setFilter('Study Caf√©',this)">‚òï Caf√©s</button>
          <button class="fc" onclick="setFilter('Culture',this)">üèõ Culture</button>
          <button class="fc" onclick="setFilter('Nightlife',this)">üéµ Night</button>
          <button class="fc" onclick="setFilter('Nature',this)">üåø Nature</button>
          <button class="fc" onclick="setFilter('City',this)">üåÜ Cities</button>
        </div>
        <div class="spots-scroll" id="spotsScroll"></div>
        <div class="spots-footer">
          <span class="spots-count" id="spotsCount"><strong>0</strong> spots</span>
          <span style="font-size:11px;color:var(--muted)" id="cityCount"></span>
        </div>
      </div>

      <!-- ROUTES PANEL -->
      <div class="panel visible" id="panel-routes">
        <div class="trips-bar" id="tripsBar"></div>
        <div class="rt-top">
          <div class="panel-title" id="rtTitle">New Route</div>
          <div class="mode-row">
            <button class="mode-btn mp" id="mplane" onclick="setMode('plane')"><span
                class="mico">‚úàÔ∏è</span>Plane</button>
            <button class="mode-btn" id="mtrain" onclick="setMode('train')"><span class="mico">üöÑ</span>Train</button>
            <button class="mode-btn" id="mbus" onclick="setMode('bus')"><span class="mico">üöå</span>Bus</button>
          </div>
          <div class="csw">
            <span class="csi-ico">üîç</span>
            <input class="csi" id="citySearchInput" placeholder="Search a city to add‚Ä¶" oninput="onCitySearch()"
              onkeydown="if(event.key==='Escape')closeCDD()">
            <div class="cdd" id="cddEl"></div>
          </div>
        </div>
        <!-- optional trip date range -->
        <div class="trip-dates-row" id="tripDatesRow">
          <div class="trip-date-field">
            <label>From</label>
            <input type="date" id="tripStartDate" onchange="onTripDateChange()">
          </div>
          <span class="trip-dates-arrow">‚Üí</span>
          <div class="trip-date-field">
            <label>To</label>
            <input type="date" id="tripEndDate" onchange="onTripDateChange()">
          </div>
        </div>
        <div class="slbl">Current Route</div>
        <div class="rt-scroll" id="routeScroll">
          <div class="empty-msg">No cities yet. Search above or pick below.<br><span
              style="font-size:11px;opacity:.7">üí° Add the same city twice for round trips (Madrid ‚Üí Paris ‚Üí
              Madrid)</span></div>
        </div>
        <div class="rt-stats" id="rtStats" style="display:none">
          <div class="rstat">
            <div class="rstat-n" id="rs-c">0</div>
            <div class="rstat-l">Stops</div>
          </div>
          <div class="rstat">
            <div class="rstat-n" id="rs-k">0</div>
            <div class="rstat-l">km</div>
          </div>
          <div class="rstat">
            <div class="rstat-n" id="rs-t">‚Äî</div>
            <div class="rstat-l">Days / Time</div>
          </div>
        </div>
        <div class="picker-scroll" id="pickerScroll">
          <div id="regionArea"></div>
        </div>
        <div class="rt-acts">
          <button class="bsm bg" onclick="clearRoute()">Clear</button>
          <button class="bsm bg" onclick="fitRoute()">üó∫ View Route</button>
          <button class="bsm bbl" onclick="openSaveModal()">üíæ Save</button>
        </div>
      </div>

      <!-- JOURNAL PANEL -->
      <div class="panel" id="panel-journal">
        <div class="jnl-hd">
          <div class="panel-title">Travel Journal</div>
          <div class="search-row"><span>üîç</span><input id="jSearch" placeholder="Search entries‚Ä¶"
              oninput="renderJournal()"></div>
          <div class="jnl-sort">
            <button class="jsort-btn on" id="jsort-date" onclick="setJSort('date',this)">üìÖ Recent</button>
            <button class="jsort-btn" id="jsort-rating" onclick="setJSort('rating',this)">‚òÖ Top rated</button>
            <button class="jsort-btn" id="jsort-city" onclick="setJSort('city',this)">üìç By city</button>
          </div>
        </div>
        <!-- journal filter strip -->
        <div class="fstrip" id="jFilterStrip">
          <button class="fc on" onclick="setJFilter('All',this)">All</button>
          <button class="fc" onclick="setJFilter('Restaurant',this)">üçΩ Restaurant</button>
          <button class="fc" onclick="setJFilter('Bar',this)">üç∫ Bar</button>
          <button class="fc" onclick="setJFilter('Club',this)">üéß Club</button>
          <button class="fc" onclick="setJFilter('Sightseeing',this)">üèõ Sights</button>
          <button class="fc" onclick="setJFilter('Nature',this)">üåø Nature</button>
          <button class="fc" onclick="setJFilter('Caf√©',this)">‚òï Caf√©</button>
          <button class="fc" onclick="setJFilter('Market',this)">üõç Market</button>
          <button class="fc" onclick="setJFilter('Transport',this)">‚úàÔ∏è Travel</button>
          <button class="fc" onclick="setJFilter('Other',this)">üìå Other</button>
        </div>
        <div class="jnl-scroll" id="jScroll"></div>
        <div class="jnl-footer">
          <span class="spots-count" id="jCount"><strong>0</strong> entries</span>
          <button class="btn-nav" style="font-size:12px;padding:7px 14px" onclick="openJModal()">Ôºã New entry</button>
        </div>
      </div>
    </div>

    <div id="map"></div>
  </div>

  <!-- ADD/EDIT SPOT MODAL -->
  <div class="overlay" id="spotOverlay" onclick="if(event.target===this)closeSpotModal()">
    <div class="modal">
      <button class="modal-x" onclick="closeSpotModal()">√ó</button>
      <h2 id="smTitle">Pin a spot üìç</h2>
      <div class="modal-sub" id="smSub">Save a place to your personal map</div>
      <div class="fgrp"><label>Place name</label><input id="sName" placeholder="e.g. Bunkers del Carmel"></div>
      <div class="frow">
        <div class="fgrp"><label>City</label><input id="sCity" placeholder="Barcelona"></div>
        <div class="fgrp"><label>Country</label><input id="sCountry" placeholder="Spain"></div>
      </div>
      <div class="fgrp"><label>Category</label>
        <div class="cat-grid">
          <button class="cat-opt" onclick="pickCat(this,'Food & Drink')">üç¥ Food</button>
          <button class="cat-opt" onclick="pickCat(this,'Study Caf√©')">‚òï Caf√©</button>
          <button class="cat-opt" onclick="pickCat(this,'Views')">üåÖ Views</button>
          <button class="cat-opt" onclick="pickCat(this,'Culture')">üèõ Culture</button>
          <button class="cat-opt" onclick="pickCat(this,'Nightlife')">üéµ Night</button>
          <button class="cat-opt" onclick="pickCat(this,'Nature')">üåø Nature</button>
        </div>
      </div>
      <div class="frow">
        <div class="fgrp"><label>Rating</label>
          <select id="sRating">
            <option value="5">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ 5.0</option>
            <option value="4.5">‚òÖ‚òÖ‚òÖ‚òÖ¬Ω 4.5</option>
            <option value="4">‚òÖ‚òÖ‚òÖ‚òÖ 4.0</option>
            <option value="3.5">‚òÖ‚òÖ‚òÖ¬Ω 3.5</option>
            <option value="3">‚òÖ‚òÖ‚òÖ 3.0</option>
          </select>
        </div>
        <div class="fgrp"><label>Tags (comma sep.)</label><input id="sTags" placeholder="Free, WiFi"></div>
      </div>
      <div class="fgrp"><label>Your note</label><textarea id="sNote"
          placeholder="What made this place special?"></textarea></div>
      <button class="sub-btn" id="smBtn" onclick="submitSpot()">Save to map ‚Üí</button>
    </div>
  </div>

  <!-- SAVE ROUTE MODAL -->
  <div class="overlay" id="saveOverlay" onclick="if(event.target===this)closeSaveModal()">
    <div class="modal" style="width:320px">
      <button class="modal-x" onclick="closeSaveModal()">√ó</button>
      <h2>Save this route üíæ</h2>
      <div class="modal-sub">Give it a name to come back to it later</div>
      <div class="fgrp"><label>Route name</label><input id="rName" placeholder="e.g. East Asia Adventure"
          maxlength="40"></div>
      <div class="fgrp"><label>Emoji</label><input id="rEmoji" placeholder="‚úàÔ∏è" maxlength="2" style="width:72px"></div>
      <button class="sub-btn blue" onclick="saveRoute()">Save route ‚Üí</button>
    </div>
  </div>

  <!-- JOURNAL NEW ENTRY MODAL -->
  <div class="overlay" id="jOverlay" onclick="if(event.target===this)closeJModal()">
    <div class="modal" style="width:430px">
      <button class="modal-x" onclick="closeJModal()">√ó</button>
      <h2 id="jModalTitle">New entry üìì</h2>
      <div class="modal-sub" id="jModalSub">Capture a moment from your travels</div>

      <div class="fgrp"><label>Title</label><input id="jTitle" placeholder="e.g. Best night in Trastevere"></div>
      <div class="frow">
        <div class="fgrp"><label>City</label><input id="jCity" placeholder="Rome"></div>
        <div class="fgrp"><label>Date</label><input type="date" id="jDate"></div>
      </div>

      <div class="fgrp"><label>Type</label>
        <div class="jtype-grid">
          <button class="jtype-opt" onclick="pickJType(this,'Restaurant')">üçΩ Restaurant</button>
          <button class="jtype-opt" onclick="pickJType(this,'Bar')">üç∫ Bar</button>
          <button class="jtype-opt" onclick="pickJType(this,'Club')">üéß Club</button>
          <button class="jtype-opt" onclick="pickJType(this,'Sightseeing')">üèõ Sightseeing</button>
          <button class="jtype-opt" onclick="pickJType(this,'Nature')">üåø Nature</button>
          <button class="jtype-opt" onclick="pickJType(this,'Caf√©')">‚òï Caf√©</button>
          <button class="jtype-opt" onclick="pickJType(this,'Market')">üõç Market</button>
          <button class="jtype-opt" onclick="pickJType(this,'Transport')">‚úàÔ∏è Transport</button>
          <button class="jtype-opt" onclick="pickJType(this,'Other')">üìå Other</button>
        </div>
      </div>

      <div class="fgrp"><label>Mood</label>
        <div class="jdetail-mood">
          <button class="mood-opt" onclick="pickMood(this,'ü§© Amazing')">ü§© Amazing</button>
          <button class="mood-opt" onclick="pickMood(this,'üòä Good')">üòä Good</button>
          <button class="mood-opt" onclick="pickMood(this,'üòê Okay')">üòê Okay</button>
          <button class="mood-opt" onclick="pickMood(this,'üò¥ Tired')">üò¥ Tired</button>
          <button class="mood-opt" onclick="pickMood(this,'üò¨ Rough')">üò¨ Rough</button>
        </div>
      </div>

      <div class="frow">
        <div class="fgrp"><label>Rating</label>
          <select id="jRating">
            <option value="5">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ 5.0</option>
            <option value="4.5">‚òÖ‚òÖ‚òÖ‚òÖ¬Ω 4.5</option>
            <option value="4">‚òÖ‚òÖ‚òÖ‚òÖ 4.0</option>
            <option value="3.5">‚òÖ‚òÖ‚òÖ¬Ω 3.5</option>
            <option value="3">‚òÖ‚òÖ‚òÖ 3.0</option>
            <option value="2">‚òÖ‚òÖ 2.0</option>
          </select>
        </div>
        <div class="fgrp"><label>Extra tags (comma)</label><input id="jTags" placeholder="e.g. Must return, Expensive">
        </div>
      </div>

      <div class="fgrp"><label>Your note</label>
        <textarea id="jNote" style="height:90px"
          placeholder="What happened? What did you feel? Any tips for next time?"></textarea>
      </div>
      <button class="sub-btn" id="jSubmitBtn" onclick="submitJEntry()">Save entry ‚Üí</button>
    </div>
  </div>

  <!-- JOURNAL ENTRY DETAIL -->
  <div class="jdetail-overlay" id="jDetailOverlay" onclick="if(event.target===this)closeJDetail()">
    <div class="jdetail-modal">
      <button class="modal-x" onclick="closeJDetail()">√ó</button>
      <div class="jdetail-hero">
        <div class="jdetail-type-icon" id="jd-icon">üçΩ</div>
        <div class="jdetail-hero-text">
          <div class="jdetail-title" id="jd-title"></div>
          <div class="jdetail-where" id="jd-where"></div>
        </div>
      </div>
      <div class="jdetail-body">
        <div id="jd-toprow" style="display:flex;align-items:center;gap:8px;margin-bottom:14px;flex-wrap:wrap;"></div>
        <div class="jdetail-note" id="jd-note"></div>
        <div class="jcard-tags" id="jd-tags" style="margin-top:16px;"></div>
      </div>
      <div class="jdetail-footer">
        <button class="sub-btn blue" style="margin:0;padding:10px 18px;width:auto;font-size:12px"
          onclick="editJEntry(currentJDetailId)">‚úèÔ∏è Edit</button>
        <button class="sub-btn"
          style="margin:0;padding:10px 18px;width:auto;font-size:12px;background:var(--sand);color:var(--deep)"
          onclick="closeJDetail()">Close</button>
        <button class="sub-btn"
          style="margin:0;padding:10px 18px;width:auto;font-size:12px;background:#fee;color:var(--danger);margin-left:auto"
          onclick="deleteJEntry(currentJDetailId)">üóë Delete</button>
      </div>
    </div>
  </div>

  <div class="toast" id="toastEl"></div>

  <script>
    /* ‚ïê‚ïê‚ïê CITY DATABASE ‚ïê‚ïê‚ïê */
    const CITIES = [
      { id: 'vienna_at', name: "Vienna", country: "Austria", flag: 'üá¶üáπ', lat: 48.20849, lng: 16.37208, pop: '1.7M', tz: 'UTC+1', hub: false },
      { id: 'salzburg_at', name: "Salzburg", country: "Austria", flag: 'üá¶üáπ', lat: 47.79941, lng: 13.04399, pop: '157K', tz: 'UTC+1', hub: false },
      { id: 'luxor_eg', name: "Luxor", country: "Egypt", flag: 'üá™üá¨', lat: 25.69893, lng: 32.6421, pop: '422K', tz: 'UTC+2', hub: false },
      { id: 'cairo_eg', name: "Cairo", country: "Egypt", flag: 'üá™üá¨', lat: 30.06263, lng: 31.24967, pop: '9.6M', tz: 'UTC+2', hub: false },
      { id: 'palma_es', name: "Mallorca", country: "Spain", flag: 'üá™üá∏', lat: 39.56939, lng: 2.65024, pop: '438K', tz: 'UTC+1', hub: false },
      { id: 'ibiza_es', name: "Ibiza", country: "Spain", flag: 'üá™üá∏', lat: 38.90883, lng: 1.43296, pop: '50K', tz: 'UTC+1', hub: false },
      { id: 'barcelona_es', name: "Barcelona", country: "Spain", flag: 'üá™üá∏', lat: 41.38879, lng: 2.15899, pop: '1.7M', tz: 'UTC+1', hub: false },
      { id: 'london_gb', name: "London", country: "United Kingdom", flag: 'üá¨üáß', lat: 51.50853, lng: -0.12574, pop: '9M', tz: 'UTC+0', hub: false },
      { id: 'amman_jo', name: "Amman", country: "Jordan", flag: 'üáØüá¥', lat: 31.95522, lng: 35.94503, pop: '1.3M', tz: 'UTC+3', hub: false },
      { id: 'lisbon_pt', name: "Lisbon", country: "Portugal", flag: 'üáµüáπ', lat: 38.72509, lng: -9.1498, pop: '518K', tz: 'UTC+0', hub: false },
      { id: 'lauterbrunnen_ch', name: 'Lauterbrunnen', country: 'Switzerland', flag: 'üá®üá≠', lat: 46.5935, lng: 7.9091, pop: '3K', tz: 'UTC+1', hub: false },
      { id: 'interlaken_ch', name: 'Interlaken', country: 'Switzerland', flag: 'üá®üá≠', lat: 46.6863, lng: 7.8632, pop: '5K', tz: 'UTC+1', hub: false },
      { id: 'zermatt_ch', name: 'Zermatt', country: 'Switzerland', flag: 'üá®üá≠', lat: 46.0207, lng: 7.7491, pop: '5K', tz: 'UTC+1', hub: false },
      { id: 'hallstatt_at', name: 'Hallstatt', country: 'Austria', flag: 'üá¶üáπ', lat: 47.5622, lng: 13.6483, pop: '780', tz: 'UTC+1', hub: false },
      { id: 'ortisei_it', name: 'Ortisei', country: 'Italy', flag: 'üáÆüáπ', lat: 46.5744, lng: 11.671, pop: '4.8K', tz: 'UTC+1', hub: false },
      { id: 'merzouga_ma', name: 'Merzouga', country: 'Morocco', flag: 'üá≤üá¶', lat: 31.0991, lng: -4.0125, pop: '2K', tz: 'UTC+1', hub: false },
      { id: 'marrakech_ma', name: 'Marrakech', country: 'Morocco', flag: 'üá≤üá¶', lat: 31.6295, lng: -7.9811, pop: '928K', tz: 'UTC+1', hub: false },
      { id: 'chamonix_fr', name: 'Chamonix', country: 'France', flag: 'üá´üá∑', lat: 45.9237, lng: 6.8694, pop: '8.6K', tz: 'UTC+1', hub: false },
      { id: 'cortina_it', name: "Cortina d'Ampezzo", country: 'Italy', flag: 'üáÆüáπ', lat: 46.5405, lng: 12.1357, pop: '5.7K', tz: 'UTC+1', hub: false },
      { id: 'tokyo', name: 'Tokyo', country: 'Japan', flag: 'üáØüáµ', lat: 35.6762, lng: 139.6503, pop: '13.9M', tz: 'UTC+9', hub: true },
      { id: 'osaka', name: 'Osaka', country: 'Japan', flag: 'üáØüáµ', lat: 34.6937, lng: 135.5023, pop: '2.7M', tz: 'UTC+9', hub: false },
      { id: 'kyoto', name: 'Kyoto', country: 'Japan', flag: 'üáØüáµ', lat: 35.0116, lng: 135.7681, pop: '1.5M', tz: 'UTC+9', hub: false },
      { id: 'seoul', name: 'Seoul', country: 'South Korea', flag: 'üá∞üá∑', lat: 37.5665, lng: 126.9780, pop: '9.7M', tz: 'UTC+9', hub: true },
      { id: 'busan', name: 'Busan', country: 'South Korea', flag: 'üá∞üá∑', lat: 35.1796, lng: 129.0756, pop: '3.4M', tz: 'UTC+9', hub: false },
      { id: 'beijing', name: 'Beijing', country: 'China', flag: 'üá®üá≥', lat: 39.9042, lng: 116.4074, pop: '21.5M', tz: 'UTC+8', hub: true },
      { id: 'shanghai', name: 'Shanghai', country: 'China', flag: 'üá®üá≥', lat: 31.2304, lng: 121.4737, pop: '24.9M', tz: 'UTC+8', hub: true },
      { id: 'hk', name: 'Hong Kong', country: 'China', flag: 'üá≠üá∞', lat: 22.3193, lng: 114.1694, pop: '7.5M', tz: 'UTC+8', hub: true },
      { id: 'taipei', name: 'Taipei', country: 'Taiwan', flag: 'üáπüáº', lat: 25.0330, lng: 121.5654, pop: '2.6M', tz: 'UTC+8', hub: true },
      { id: 'chengdu', name: 'Chengdu', country: 'China', flag: 'üá®üá≥', lat: 30.5728, lng: 104.0668, pop: '9.0M', tz: 'UTC+8', hub: false },
      { id: 'bangkok', name: 'Bangkok', country: 'Thailand', flag: 'üáπüá≠', lat: 13.7563, lng: 100.5018, pop: '10.5M', tz: 'UTC+7', hub: true },
      { id: 'bali', name: 'Bali', country: 'Indonesia', flag: 'üáÆüá©', lat: -8.3405, lng: 115.0920, pop: '4.3M', tz: 'UTC+8', hub: false },
      { id: 'singapore', name: 'Singapore', country: 'Singapore', flag: 'üá∏üá¨', lat: 1.3521, lng: 103.8198, pop: '5.9M', tz: 'UTC+8', hub: true },
      { id: 'hanoi', name: 'Hanoi', country: 'Vietnam', flag: 'üáªüá≥', lat: 21.0285, lng: 105.8542, pop: '8.1M', tz: 'UTC+7', hub: false },
      { id: 'hcmc', name: 'Ho Chi Minh', country: 'Vietnam', flag: 'üáªüá≥', lat: 10.8231, lng: 106.6297, pop: '9M', tz: 'UTC+7', hub: true },
      { id: 'kl', name: 'Kuala Lumpur', country: 'Malaysia', flag: 'üá≤üáæ', lat: 3.1390, lng: 101.6869, pop: '7.7M', tz: 'UTC+8', hub: true },
      { id: 'manila', name: 'Manila', country: 'Philippines', flag: 'üáµüá≠', lat: 14.5995, lng: 120.9842, pop: '13.9M', tz: 'UTC+8', hub: false },
      { id: 'dubai', name: 'Dubai', country: 'UAE', flag: 'üá¶üá™', lat: 25.2048, lng: 55.2708, pop: '3.3M', tz: 'UTC+4', hub: true },
      { id: 'istanbul', name: 'Istanbul', country: 'Turkey', flag: 'üáπüá∑', lat: 41.0082, lng: 28.9784, pop: '15.9M', tz: 'UTC+3', hub: true },
      { id: 'mumbai', name: 'Mumbai', country: 'India', flag: 'üáÆüá≥', lat: 19.0760, lng: 72.8777, pop: '20.7M', tz: 'UTC+5.5', hub: true },
      { id: 'delhi', name: 'Delhi', country: 'India', flag: 'üáÆüá≥', lat: 28.6139, lng: 77.2090, pop: '32.2M', tz: 'UTC+5.5', hub: true },
      { id: 'london', name: 'London', country: 'UK', flag: 'üá¨üáß', lat: 51.5074, lng: -0.1278, pop: '9M', tz: 'UTC+0', hub: true },
      { id: 'paris', name: 'Paris', country: 'France', flag: 'üá´üá∑', lat: 48.8566, lng: 2.3522, pop: '2.1M', tz: 'UTC+1', hub: true },
      { id: 'amsterdam', name: 'Amsterdam', country: 'Netherlands', flag: 'üá≥üá±', lat: 52.3676, lng: 4.9041, pop: '0.9M', tz: 'UTC+1', hub: true },
      { id: 'berlin', name: 'Berlin', country: 'Germany', flag: 'üá©üá™', lat: 52.5200, lng: 13.4050, pop: '3.7M', tz: 'UTC+1', hub: true },
      { id: 'barcelona', name: 'Barcelona', country: 'Spain', flag: 'üá™üá∏', lat: 41.3851, lng: 2.1734, pop: '1.6M', tz: 'UTC+1', hub: true },
      { id: 'madrid', name: 'Madrid', country: 'Spain', flag: 'üá™üá∏', lat: 40.4168, lng: -3.7038, pop: '3.3M', tz: 'UTC+1', hub: true },
      { id: 'rome', name: 'Rome', country: 'Italy', flag: 'üáÆüáπ', lat: 41.9028, lng: 12.4964, pop: '2.8M', tz: 'UTC+1', hub: true },
      { id: 'lisbon', name: 'Lisbon', country: 'Portugal', flag: 'üáµüáπ', lat: 38.7169, lng: -9.1399, pop: '0.5M', tz: 'UTC+0', hub: false },
      { id: 'prague', name: 'Prague', country: 'Czech Rep.', flag: 'üá®üáø', lat: 50.0755, lng: 14.4378, pop: '1.3M', tz: 'UTC+1', hub: false },
      { id: 'vienna', name: 'Vienna', country: 'Austria', flag: 'üá¶üáπ', lat: 48.2082, lng: 16.3738, pop: '1.9M', tz: 'UTC+1', hub: false },
      { id: 'copenhagen', name: 'Copenhagen', country: 'Denmark', flag: 'üá©üá∞', lat: 55.6761, lng: 12.5683, pop: '0.8M', tz: 'UTC+1', hub: false },
      { id: 'athens', name: 'Athens', country: 'Greece', flag: 'üá¨üá∑', lat: 37.9838, lng: 23.7275, pop: '3.2M', tz: 'UTC+2', hub: false },
      { id: 'zurich', name: 'Z√ºrich', country: 'Switzerland', flag: 'üá®üá≠', lat: 47.3769, lng: 8.5417, pop: '0.4M', tz: 'UTC+1', hub: false },
      { id: 'nyc', name: 'New York', country: 'USA', flag: 'üá∫üá∏', lat: 40.7128, lng: -74.0060, pop: '8.3M', tz: 'UTC-5', hub: true },
      { id: 'la', name: 'Los Angeles', country: 'USA', flag: 'üá∫üá∏', lat: 34.0522, lng: -118.2437, pop: '3.9M', tz: 'UTC-8', hub: true },
      { id: 'sf', name: 'San Francisco', country: 'USA', flag: 'üá∫üá∏', lat: 37.7749, lng: -122.4194, pop: '0.9M', tz: 'UTC-8', hub: true },
      { id: 'chicago', name: 'Chicago', country: 'USA', flag: 'üá∫üá∏', lat: 41.8781, lng: -87.6298, pop: '2.7M', tz: 'UTC-6', hub: false },
      { id: 'toronto', name: 'Toronto', country: 'Canada', flag: 'üá®üá¶', lat: 43.6532, lng: -79.3832, pop: '2.9M', tz: 'UTC-5', hub: false },
      { id: 'mexico', name: 'Mexico City', country: 'Mexico', flag: 'üá≤üáΩ', lat: 19.4326, lng: -99.1332, pop: '9.2M', tz: 'UTC-6', hub: false },
      { id: 'rio', name: 'Rio de Janeiro', country: 'Brazil', flag: 'üáßüá∑', lat: -22.9068, lng: -43.1729, pop: '6.7M', tz: 'UTC-3', hub: false },
      { id: 'dubai_ae', name: "Dubai", country: "United Arab Emirates", flag: 'üá¶üá™', lat: 25.07725, lng: 55.30927, pop: '3.8M', tz: 'UTC+4', hub: false },
      { id: 'sharjah_ae', name: "Sharjah", country: "United Arab Emirates", flag: 'üá¶üá™', lat: 25.3342, lng: 55.41221, pop: '1.8M', tz: 'UTC+4', hub: false },
      { id: 'abudhabi_ae', name: "Abu Dhabi", country: "United Arab Emirates", flag: 'üá¶üá™', lat: 24.45118, lng: 54.39696, pop: '1.8M', tz: 'UTC+4', hub: false },
      { id: 'kabul_af', name: "Kabul", country: "Afghanistan", flag: 'üá¶üá´', lat: 34.52813, lng: 69.17233, pop: '4.4M', tz: 'UTC+4.5', hub: false },
      { id: 'yerevan_am', name: "Yerevan", country: "Armenia", flag: 'üá¶üá≤', lat: 40.17765, lng: 44.5126, pop: '1.1M', tz: 'UTC+4', hub: false },
      { id: 'luanda_ao', name: "Luanda", country: "Angola", flag: 'üá¶üá¥', lat: -8.83682, lng: 13.23432, pop: '2.8M', tz: 'UTC+1', hub: false },
      { id: 'buenosaires_ar', name: "Buenos Aires", country: "Argentina", flag: 'üá¶üá∑', lat: -34.61315, lng: -58.37723, pop: '2.9M', tz: 'UTC-3', hub: false },
      { id: 'cordoba_ar', name: "Cordoba", country: "Argentina", flag: 'üá¶üá∑', lat: -31.40648, lng: -64.18853, pop: '2.1M', tz: 'UTC-3', hub: false },
      { id: 'perth_au', name: "Perth", country: "Australia", flag: 'üá¶üá∫', lat: -31.95224, lng: 115.8614, pop: '2.3M', tz: 'UTC+8', hub: false },
      { id: 'adelaide_au', name: "Adelaide", country: "Australia", flag: 'üá¶üá∫', lat: -34.92866, lng: 138.59863, pop: '1.5M', tz: 'UTC+10.5', hub: false },
      { id: 'sydney_au', name: "Sydney", country: "Australia", flag: 'üá¶üá∫', lat: -33.86785, lng: 151.20732, pop: '5.6M', tz: 'UTC+11', hub: false },
      { id: 'melbourne_au', name: "Melbourne", country: "Australia", flag: 'üá¶üá∫', lat: -37.814, lng: 144.96332, pop: '5.4M', tz: 'UTC+11', hub: false },
      { id: 'brisbane_au', name: "Brisbane", country: "Australia", flag: 'üá¶üá∫', lat: -27.46794, lng: 153.02809, pop: '2.8M', tz: 'UTC+10', hub: false },
      { id: 'baku_az', name: "Baku", country: "Azerbaijan", flag: 'üá¶üáø', lat: 40.37767, lng: 49.89201, pop: '1.1M', tz: 'UTC+4', hub: false },
      { id: 'comilla_bd', name: "Comilla", country: "Bangladesh", flag: 'üáßüá©', lat: 23.46186, lng: 91.18503, pop: '1M', tz: 'UTC+6', hub: false },
      { id: 'rangpur_bd', name: "Rangpur", country: "Bangladesh", flag: 'üáßüá©', lat: 25.74664, lng: 89.25166, pop: '1M', tz: 'UTC+6', hub: false },
      { id: 'dhaka_bd', name: "Dhaka", country: "Bangladesh", flag: 'üáßüá©', lat: 23.7104, lng: 90.40744, pop: '10.4M', tz: 'UTC+6', hub: false },
      { id: 'gazipur_bd', name: "Gazipur", country: "Bangladesh", flag: 'üáßüá©', lat: 23.99844, lng: 90.42234, pop: '2.7M', tz: 'UTC+6', hub: false },
      { id: 'chattogram_bd', name: "Chattogram", country: "Bangladesh", flag: 'üáßüá©', lat: 22.3384, lng: 91.83168, pop: '3.9M', tz: 'UTC+6', hub: false },
      { id: 'khulna_bd', name: "Khulna", country: "Bangladesh", flag: 'üáßüá©', lat: 22.80979, lng: 89.56439, pop: '1.5M', tz: 'UTC+6', hub: false },
      { id: 'brussels_be', name: "Brussels", country: "Belgium", flag: 'üáßüá™', lat: 50.85045, lng: 4.34878, pop: '1M', tz: 'UTC+1', hub: false },
      { id: 'ouagadougou_bf', name: "Ouagadougou", country: "Burkina Faso", flag: 'üáßüá´', lat: 12.36566, lng: -1.53388, pop: '2.4M', tz: 'UTC+0', hub: false },
      { id: 'sofia_bg', name: "Sofia", country: "Bulgaria", flag: 'üáßüá¨', lat: 42.69751, lng: 23.32415, pop: '1.2M', tz: 'UTC+2', hub: false },
      { id: 'santacruzdelasierra_bo', name: "Santa Cruz de la Sierra", country: "Bolivia", flag: 'üáßüá¥', lat: -17.78629, lng: -63.18117, pop: '1.8M', tz: 'UTC-4', hub: false },
      { id: 'lapaz_bo', name: "La Paz", country: "Bolivia", flag: 'üáßüá¥', lat: -16.5, lng: -68.15, pop: '2M', tz: 'UTC-4', hub: false },
      { id: 'recife_br', name: "Recife", country: "Brazil", flag: 'üáßüá∑', lat: -8.05389, lng: -34.88111, pop: '1.7M', tz: 'UTC-3', hub: false },
      { id: 'maceio_br', name: "Maceio", country: "Brazil", flag: 'üáßüá∑', lat: -9.66583, lng: -35.73528, pop: '1M', tz: 'UTC-3', hub: false },
      { id: 'fortaleza_br', name: "Fortaleza", country: "Brazil", flag: 'üáßüá∑', lat: -3.71722, lng: -38.54306, pop: '2.4M', tz: 'UTC-3', hub: false },
      { id: 'belem_br', name: "Belem", country: "Brazil", flag: 'üáßüá∑', lat: -1.45583, lng: -48.50444, pop: '1.5M', tz: 'UTC-3', hub: false },
      { id: 'saopaulo_br', name: "Sao Paulo", country: "Brazil", flag: 'üáßüá∑', lat: -23.5475, lng: -46.63611, pop: '12.4M', tz: 'UTC-3', hub: false },
      { id: 'salvador_br', name: "Salvador", country: "Brazil", flag: 'üáßüá∑', lat: -12.97563, lng: -38.49096, pop: '2.7M', tz: 'UTC-3', hub: false },
      { id: 'riodejaneiro_br', name: "Rio de Janeiro", country: "Brazil", flag: 'üáßüá∑', lat: -22.90642, lng: -43.18223, pop: '6.7M', tz: 'UTC-3', hub: false },
      { id: 'portoalegre_br', name: "Porto Alegre", country: "Brazil", flag: 'üáßüá∑', lat: -30.03283, lng: -51.23019, pop: '1.5M', tz: 'UTC-3', hub: false },
      { id: 'guarulhos_br', name: "Guarulhos", country: "Brazil", flag: 'üáßüá∑', lat: -23.46278, lng: -46.53333, pop: '1.2M', tz: 'UTC-3', hub: false },
      { id: 'goiania_br', name: "Goiania", country: "Brazil", flag: 'üáßüá∑', lat: -16.67861, lng: -49.25389, pop: '1.5M', tz: 'UTC-3', hub: false },
      { id: 'curitiba_br', name: "Curitiba", country: "Brazil", flag: 'üáßüá∑', lat: -25.42778, lng: -49.27306, pop: '1.9M', tz: 'UTC-3', hub: false },
      { id: 'campinas_br', name: "Campinas", country: "Brazil", flag: 'üáßüá∑', lat: -22.90556, lng: -47.06083, pop: '1M', tz: 'UTC-3', hub: false },
      { id: 'brasilia_br', name: "Brasilia", country: "Brazil", flag: 'üáßüá∑', lat: -15.77972, lng: -47.92972, pop: '2.2M', tz: 'UTC-3', hub: false },
      { id: 'belohorizonte_br', name: "Belo Horizonte", country: "Brazil", flag: 'üáßüá∑', lat: -19.92083, lng: -43.93778, pop: '2.7M', tz: 'UTC-3', hub: false },
      { id: 'manaus_br', name: "Manaus", country: "Brazil", flag: 'üáßüá∑', lat: -3.10194, lng: -60.025, pop: '2.2M', tz: 'UTC-4', hub: false },
      { id: 'minsk_by', name: "Minsk", country: "Belarus", flag: 'üáßüáæ', lat: 53.90019, lng: 27.56653, pop: '1.7M', tz: 'UTC+3', hub: false },
      { id: 'calgary_ca', name: "Calgary", country: "Canada", flag: 'üá®üá¶', lat: 51.05011, lng: -114.08529, pop: '1.3M', tz: 'UTC-7', hub: false },
      { id: 'edmonton_ca', name: "Edmonton", country: "Canada", flag: 'üá®üá¶', lat: 53.55014, lng: -113.46871, pop: '1M', tz: 'UTC-7', hub: false },
      { id: 'montreal_ca', name: "Montreal", country: "Canada", flag: 'üá®üá¶', lat: 45.50884, lng: -73.58781, pop: '1.8M', tz: 'UTC-5', hub: false },
      { id: 'ottawa_ca', name: "Ottawa", country: "Canada", flag: 'üá®üá¶', lat: 45.41117, lng: -75.69812, pop: '1M', tz: 'UTC-5', hub: false },
      { id: 'toronto_ca', name: "Toronto", country: "Canada", flag: 'üá®üá¶', lat: 43.70643, lng: -79.39864, pop: '2.8M', tz: 'UTC-5', hub: false },
      { id: 'mbujimayi_cd', name: "Mbuji-Mayi", country: "Democratic Republic of the Congo", flag: 'üá®üá©', lat: -6.13603, lng: 23.58979, pop: '2.1M', tz: 'UTC+2', hub: false },
      { id: 'kisangani_cd', name: "Kisangani", country: "Democratic Republic of the Congo", flag: 'üá®üá©', lat: 0.51528, lng: 25.19099, pop: '1.2M', tz: 'UTC+2', hub: false },
      { id: 'kananga_cd', name: "Kananga", country: "Democratic Republic of the Congo", flag: 'üá®üá©', lat: -5.89624, lng: 22.41659, pop: '1.2M', tz: 'UTC+2', hub: false },
      { id: 'lubumbashi_cd', name: "Lubumbashi", country: "Democratic Republic of the Congo", flag: 'üá®üá©', lat: -11.66089, lng: 27.47938, pop: '2.2M', tz: 'UTC+2', hub: false },
      { id: 'kinshasa_cd', name: "Kinshasa", country: "Democratic Republic of the Congo", flag: 'üá®üá©', lat: -4.32758, lng: 15.31357, pop: '16M', tz: 'UTC+1', hub: false },
      { id: 'pointenoire_cg', name: "Pointe-Noire", country: "Republic of the Congo", flag: 'üá®üá¨', lat: -4.77609, lng: 11.86352, pop: '1M', tz: 'UTC+1', hub: false },
      { id: 'brazzaville_cg', name: "Brazzaville", country: "Republic of the Congo", flag: 'üá®üá¨', lat: -4.26613, lng: 15.28318, pop: '2M', tz: 'UTC+1', hub: false },
      { id: 'abobo_ci', name: "Abobo", country: "Ivory Coast", flag: 'üá®üáÆ', lat: 5.41613, lng: -4.0159, pop: '1.3M', tz: 'UTC+0', hub: false },
      { id: 'abidjan_ci', name: "Abidjan", country: "Ivory Coast", flag: 'üá®üáÆ', lat: 5.35444, lng: -4.00167, pop: '6.3M', tz: 'UTC+0', hub: false },
      { id: 'santiago_cl', name: "Santiago", country: "Chile", flag: 'üá®üá±', lat: -33.45694, lng: -70.64827, pop: '4.8M', tz: 'UTC-3', hub: false },
      { id: 'yaounde_cm', name: "Yaounde", country: "Cameroon", flag: 'üá®üá≤', lat: 3.86667, lng: 11.51667, pop: '1.3M', tz: 'UTC+1', hub: false },
      { id: 'douala_cm', name: "Douala", country: "Cameroon", flag: 'üá®üá≤', lat: 4.04827, lng: 9.70428, pop: '1.3M', tz: 'UTC+1', hub: false },
      { id: 'ueruemqi_cn', name: "UEruemqi", country: "China", flag: 'üá®üá≥', lat: 43.80096, lng: 87.60046, pop: '3M', tz: 'UTC+6', hub: false },
      { id: 'zunyi_cn', name: "Zunyi", country: "China", flag: 'üá®üá≥', lat: 27.68667, lng: 106.90722, pop: '2M', tz: 'UTC+8', hub: false },
      { id: 'zigong_cn', name: "Zigong", country: "China", flag: 'üá®üá≥', lat: 29.34162, lng: 104.77689, pop: '1.3M', tz: 'UTC+8', hub: false },
      { id: 'zhuzhou_cn', name: "Zhuzhou", country: "China", flag: 'üá®üá≥', lat: 27.83333, lng: 113.15, pop: '1.1M', tz: 'UTC+8', hub: false },
      { id: 'shangqiu_cn', name: "Shangqiu", country: "China", flag: 'üá®üá≥', lat: 34.45, lng: 115.65, pop: '1.5M', tz: 'UTC+8', hub: false },
      { id: 'zhengzhou_cn', name: "Zhengzhou", country: "China", flag: 'üá®üá≥', lat: 34.75778, lng: 113.64861, pop: '4.3M', tz: 'UTC+8', hub: false },
      { id: 'zhaoqing_cn', name: "Zhaoqing", country: "China", flag: 'üá®üá≥', lat: 23.04893, lng: 112.46091, pop: '1.6M', tz: 'UTC+8', hub: false },
      { id: 'zhanjiang_cn', name: "Zhanjiang", country: "China", flag: 'üá®üá≥', lat: 21.23391, lng: 110.38749, pop: '1.4M', tz: 'UTC+8', hub: false },
      { id: 'zibo_cn', name: "Zibo", country: "China", flag: 'üá®üá≥', lat: 36.79056, lng: 118.06333, pop: '3.1M', tz: 'UTC+8', hub: false },
      { id: 'anyang_cn', name: "Anyang", country: "China", flag: 'üá®üá≥', lat: 36.096, lng: 114.38278, pop: '1.1M', tz: 'UTC+8', hub: false },
      { id: 'kunshan_cn', name: "Kunshan", country: "China", flag: 'üá®üá≥', lat: 31.37762, lng: 120.95431, pop: '2.1M', tz: 'UTC+8', hub: false },
      { id: 'yunfu_cn', name: "Yunfu", country: "China", flag: 'üá®üá≥', lat: 22.92787, lng: 112.03809, pop: '2.6M', tz: 'UTC+8', hub: false },
      { id: 'yulin_cn', name: "Yulin", country: "China", flag: 'üá®üá≥', lat: 22.6305, lng: 110.14686, pop: '1.1M', tz: 'UTC+8', hub: false },
      { id: 'yongzhou_cn', name: "Yongzhou", country: "China", flag: 'üá®üá≥', lat: 26.42389, lng: 111.61306, pop: '1M', tz: 'UTC+8', hub: false },
      { id: 'yinchuan_cn', name: "Yinchuan", country: "China", flag: 'üá®üá≥', lat: 38.46806, lng: 106.27306, pop: '1.5M', tz: 'UTC+8', hub: false },
      { id: 'yichun_cn', name: "Yichun", country: "China", flag: 'üá®üá≥', lat: 27.83333, lng: 114.4, pop: '1M', tz: 'UTC+8', hub: false },
      { id: 'yixing_cn', name: "Yixing", country: "China", flag: 'üá®üá≥', lat: 31.36059, lng: 119.82016, pop: '1.3M', tz: 'UTC+8', hub: false },
      { id: 'yichang_cn', name: "Yichang", country: "China", flag: 'üá®üá≥', lat: 30.71444, lng: 111.28472, pop: '1.4M', tz: 'UTC+8', hub: false },
      { id: 'yantai_cn', name: "Yantai", country: "China", flag: 'üá®üá≥', lat: 37.47649, lng: 121.44081, pop: '2.2M', tz: 'UTC+8', hub: false },
      { id: 'yangzhou_cn', name: "Yangzhou", country: "China", flag: 'üá®üá≥', lat: 32.39722, lng: 119.43583, pop: '1.6M', tz: 'UTC+8', hub: false },
      { id: 'zhangjiagang_cn', name: "Zhangjiagang", country: "China", flag: 'üá®üá≥', lat: 31.865, lng: 120.53889, pop: '1.4M', tz: 'UTC+8', hub: false },
      { id: 'yancheng_cn', name: "Yancheng", country: "China", flag: 'üá®üá≥', lat: 33.3575, lng: 120.1573, pop: '1.6M', tz: 'UTC+8', hub: false },
      { id: 'shangrao_cn', name: "Shangrao", country: "China", flag: 'üá®üá≥', lat: 28.45179, lng: 117.94287, pop: '1.1M', tz: 'UTC+8', hub: false },
      { id: 'xuchang_cn', name: "Xuchang", country: "China", flag: 'üá®üá≥', lat: 34.03189, lng: 113.86299, pop: '1.3M', tz: 'UTC+8', hub: false },
      { id: 'xinyang_cn', name: "Xinyang", country: "China", flag: 'üá®üá≥', lat: 32.12278, lng: 114.06556, pop: '1.2M', tz: 'UTC+8', hub: false },
      { id: 'xinxiang_cn', name: "Xinxiang", country: "China", flag: 'üá®üá≥', lat: 35.19033, lng: 113.80151, pop: '1M', tz: 'UTC+8', hub: false },
      { id: 'xining_cn', name: "Xining", country: "China", flag: 'üá®üá≥', lat: 36.62554, lng: 101.75739, pop: '1.7M', tz: 'UTC+8', hub: false },
      { id: 'xianyang_cn', name: "Xianyang", country: "China", flag: 'üá®üá≥', lat: 34.33778, lng: 108.70261, pop: '1M', tz: 'UTC+8', hub: false },
      { id: 'zhuhai_cn', name: "Zhuhai", country: "China", flag: 'üá®üá≥', lat: 22.27694, lng: 113.56778, pop: '2.2M', tz: 'UTC+8', hub: false },
      { id: 'xiangyang_cn', name: "Xiangyang", country: "China", flag: 'üá®üá≥', lat: 32.0422, lng: 112.14479, pop: '1.3M', tz: 'UTC+8', hub: false },
      { id: 'xian_cn', name: "Xi'an", country: "China", flag: 'üá®üá≥', lat: 34.25833, lng: 108.92861, pop: '9.6M', tz: 'UTC+8', hub: false },
      { id: 'xiamen_cn', name: "Xiamen", country: "China", flag: 'üá®üá≥', lat: 24.47979, lng: 118.08187, pop: '4.6M', tz: 'UTC+8', hub: false },
      { id: 'wuxi_cn', name: "Wuxi", country: "China", flag: 'üá®üá≥', lat: 31.56887, lng: 120.28857, pop: '4.4M', tz: 'UTC+8', hub: false },
      { id: 'changde_cn', name: "Changde", country: "China", flag: 'üá®üá≥', lat: 29.03205, lng: 111.69844, pop: '1.5M', tz: 'UTC+8', hub: false },
      { id: 'wuhu_cn', name: "Wuhu", country: "China", flag: 'üá®üá≥', lat: 31.35259, lng: 118.42947, pop: '1.6M', tz: 'UTC+8', hub: false },
      { id: 'wuhan_cn', name: "Wuhan", country: "China", flag: 'üá®üá≥', lat: 30.58333, lng: 114.26667, pop: '10.4M', tz: 'UTC+8', hub: false },
      { id: 'wenzhou_cn', name: "Wenzhou", country: "China", flag: 'üá®üá≥', lat: 27.99942, lng: 120.66682, pop: '2.6M', tz: 'UTC+8', hub: false },
      { id: 'weinan_cn', name: "Weinan", country: "China", flag: 'üá®üá≥', lat: 34.50355, lng: 109.50891, pop: '1.2M', tz: 'UTC+8', hub: false },
      { id: 'weifang_cn', name: "Weifang", country: "China", flag: 'üá®üá≥', lat: 36.71, lng: 119.10194, pop: '2M', tz: 'UTC+8', hub: false },
      { id: 'tianshui_cn', name: "Tianshui", country: "China", flag: 'üá®üá≥', lat: 34.57952, lng: 105.74238, pop: '1.2M', tz: 'UTC+8', hub: false },
      { id: 'tianjin_cn', name: "Tianjin", country: "China", flag: 'üá®üá≥', lat: 39.14222, lng: 117.17667, pop: '11.1M', tz: 'UTC+8', hub: false },
      { id: 'tangshan_cn', name: "Tangshan", country: "China", flag: 'üá®üá≥', lat: 39.64381, lng: 118.18319, pop: '3.4M', tz: 'UTC+8', hub: false },
      { id: 'taizhou_cn', name: "Taizhou", country: "China", flag: 'üá®üá≥', lat: 32.49069, lng: 119.90812, pop: '1.6M', tz: 'UTC+8', hub: false },
      { id: 'taiyuan_cn', name: "Taiyuan", country: "China", flag: 'üá®üá≥', lat: 37.86944, lng: 112.56028, pop: '4.3M', tz: 'UTC+8', hub: false },
      { id: 'taian_cn', name: "Tai'an", country: "China", flag: 'üá®üá≥', lat: 36.18528, lng: 117.12, pop: '1.7M', tz: 'UTC+8', hub: false },
      { id: 'suzhou_cn', name: "Suzhou", country: "China", flag: 'üá®üá≥', lat: 33.63611, lng: 116.97889, pop: '1.6M', tz: 'UTC+8', hub: false },
      { id: 'suqian_cn', name: "Suqian", country: "China", flag: 'üá®üá≥', lat: 33.94917, lng: 118.29583, pop: '1.4M', tz: 'UTC+8', hub: false },
      { id: 'shiyan_cn', name: "Shiyan", country: "China", flag: 'üá®üá≥', lat: 32.6475, lng: 110.77806, pop: '3.5M', tz: 'UTC+8', hub: false },
      { id: 'shijiazhuang_cn', name: "Shijiazhuang", country: "China", flag: 'üá®üá≥', lat: 38.04139, lng: 114.47861, pop: '3.9M', tz: 'UTC+8', hub: false },
      { id: 'shenzhen_cn', name: "Shenzhen", country: "China", flag: 'üá®üá≥', lat: 22.54554, lng: 114.0683, pop: '17.5M', tz: 'UTC+8', hub: false },
      { id: 'shaoxing_cn', name: "Shaoxing", country: "China", flag: 'üá®üá≥', lat: 30.00237, lng: 120.57864, pop: '2.3M', tz: 'UTC+8', hub: false },
      { id: 'shaoguan_cn', name: "Shaoguan", country: "China", flag: 'üá®üá≥', lat: 24.8, lng: 113.58333, pop: '1M', tz: 'UTC+8', hub: false },
      { id: 'shantou_cn', name: "Shantou", country: "China", flag: 'üá®üá≥', lat: 23.35489, lng: 116.67876, pop: '3.8M', tz: 'UTC+8', hub: false },
      { id: 'shanghai_cn', name: "Shanghai", country: "China", flag: 'üá®üá≥', lat: 31.22222, lng: 121.45806, pop: '24.9M', tz: 'UTC+8', hub: false },
      { id: 'sanya_cn', name: "Sanya", country: "China", flag: 'üá®üá≥', lat: 18.25435, lng: 109.50947, pop: '1M', tz: 'UTC+8', hub: false },
      { id: 'jieyang_cn', name: "Jieyang", country: "China", flag: 'üá®üá≥', lat: 23.5418, lng: 116.36581, pop: '1.9M', tz: 'UTC+8', hub: false },
      { id: 'qujing_cn', name: "Qujing", country: "China", flag: 'üá®üá≥', lat: 25.48333, lng: 103.78333, pop: '1.4M', tz: 'UTC+8', hub: false },
      { id: 'quanzhou_cn', name: "Quanzhou", country: "China", flag: 'üá®üá≥', lat: 24.91389, lng: 118.58583, pop: '1.5M', tz: 'UTC+8', hub: false },
      { id: 'qinzhou_cn', name: "Qinzhou", country: "China", flag: 'üá®üá≥', lat: 21.98247, lng: 108.65061, pop: '1.3M', tz: 'UTC+8', hub: false },
      { id: 'jinjiang_cn', name: "Jinjiang", country: "China", flag: 'üá®üá≥', lat: 24.81978, lng: 118.57415, pop: '1.4M', tz: 'UTC+8', hub: false },
      { id: 'huaian_cn', name: "Huai'an", country: "China", flag: 'üá®üá≥', lat: 33.58861, lng: 119.01917, pop: '2.5M', tz: 'UTC+8', hub: false },
      { id: 'qingdao_cn', name: "Qingdao", country: "China", flag: 'üá®üá≥', lat: 36.06488, lng: 120.38042, pop: '7.2M', tz: 'UTC+8', hub: false },
      { id: 'qingyuan_cn', name: "Qingyuan", country: "China", flag: 'üá®üá≥', lat: 23.7, lng: 113.03333, pop: '1.7M', tz: 'UTC+8', hub: false },
      { id: 'puyang_cn', name: "Puyang", country: "China", flag: 'üá®üá≥', lat: 29.45679, lng: 119.88872, pop: '3.6M', tz: 'UTC+8', hub: false },
      { id: 'putian_cn', name: "Putian", country: "China", flag: 'üá®üá≥', lat: 25.43944, lng: 119.01028, pop: '1.5M', tz: 'UTC+8', hub: false },
      { id: 'ningbo_cn', name: "Ningbo", country: "China", flag: 'üá®üá≥', lat: 29.87819, lng: 121.54945, pop: '3.7M', tz: 'UTC+8', hub: false },
      { id: 'neijiang_cn', name: "Neijiang", country: "China", flag: 'üá®üá≥', lat: 29.58354, lng: 105.06216, pop: '1.3M', tz: 'UTC+8', hub: false },
      { id: 'nanyang_cn', name: "Nanyang", country: "China", flag: 'üá®üá≥', lat: 32.99472, lng: 112.53278, pop: '1.8M', tz: 'UTC+8', hub: false },
      { id: 'nantong_cn', name: "Nantong", country: "China", flag: 'üá®üá≥', lat: 32.03028, lng: 120.87472, pop: '2.3M', tz: 'UTC+8', hub: false },
      { id: 'nanning_cn', name: "Nanning", country: "China", flag: 'üá®üá≥', lat: 22.81667, lng: 108.31667, pop: '3.8M', tz: 'UTC+8', hub: false },
      { id: 'nanjing_cn', name: "Nanjing", country: "China", flag: 'üá®üá≥', lat: 32.06167, lng: 118.77778, pop: '9.3M', tz: 'UTC+8', hub: false },
      { id: 'nanchong_cn', name: "Nanchong", country: "China", flag: 'üá®üá≥', lat: 30.79508, lng: 106.08473, pop: '1.9M', tz: 'UTC+8', hub: false },
      { id: 'nanchang_cn', name: "Nanchang", country: "China", flag: 'üá®üá≥', lat: 28.68396, lng: 115.85306, pop: '2.4M', tz: 'UTC+8', hub: false },
      { id: 'mianyang_cn', name: "Mianyang", country: "China", flag: 'üá®üá≥', lat: 31.46784, lng: 104.68168, pop: '1.6M', tz: 'UTC+8', hub: false },
      { id: 'meishan_cn', name: "Meishan", country: "China", flag: 'üá®üá≥', lat: 30.04392, lng: 103.83696, pop: '1.1M', tz: 'UTC+8', hub: false },
      { id: 'maoming_cn', name: "Maoming", country: "China", flag: 'üá®üá≥', lat: 21.66625, lng: 110.91364, pop: '1.3M', tz: 'UTC+8', hub: false },
      { id: 'luoyang_cn', name: "Luoyang", country: "China", flag: 'üá®üá≥', lat: 34.67345, lng: 112.43684, pop: '1.4M', tz: 'UTC+8', hub: false },
      { id: 'luohe_cn', name: "Luohe", country: "China", flag: 'üá®üá≥', lat: 33.56394, lng: 114.04272, pop: '1.3M', tz: 'UTC+8', hub: false },
      { id: 'luan_cn', name: "Lu'an", country: "China", flag: 'üá®üá≥', lat: 31.73561, lng: 116.51688, pop: '1.6M', tz: 'UTC+8', hub: false },
      { id: 'longyan_cn', name: "Longyan", country: "China", flag: 'üá®üá≥', lat: 25.07485, lng: 117.01775, pop: '1M', tz: 'UTC+8', hub: false },
      { id: 'guankou_cn', name: "Guankou", country: "China", flag: 'üá®üá≥', lat: 28.15861, lng: 113.62709, pop: '1.4M', tz: 'UTC+8', hub: false },
      { id: 'liuzhou_cn', name: "Liuzhou", country: "China", flag: 'üá®üá≥', lat: 24.32405, lng: 109.40698, pop: '1.4M', tz: 'UTC+8', hub: false },
      { id: 'linyi_cn', name: "Linyi", country: "China", flag: 'üá®üá≥', lat: 35.06306, lng: 118.34278, pop: '2.7M', tz: 'UTC+8', hub: false },
      { id: 'liaocheng_cn', name: "Liaocheng", country: "China", flag: 'üá®üá≥', lat: 36.45064, lng: 116.00247, pop: '1.2M', tz: 'UTC+8', hub: false },
      { id: 'wuwei_cn', name: "Wuwei", country: "China", flag: 'üá®üá≥', lat: 37.92672, lng: 102.63202, pop: '1M', tz: 'UTC+8', hub: false },
      { id: 'lanzhou_cn', name: "Lanzhou", country: "China", flag: 'üá®üá≥', lat: 36.05701, lng: 103.83987, pop: '3M', tz: 'UTC+8', hub: false },
      { id: 'kunming_cn', name: "Kunming", country: "China", flag: 'üá®üá≥', lat: 25.03889, lng: 102.71833, pop: '3.9M', tz: 'UTC+8', hub: false },
      { id: 'kaifeng_cn', name: "Kaifeng", country: "China", flag: 'üá®üá≥', lat: 34.7986, lng: 114.30742, pop: '1.5M', tz: 'UTC+8', hub: false },
      { id: 'jiujiang_cn', name: "Jiujiang", country: "China", flag: 'üá®üá≥', lat: 29.70475, lng: 116.00206, pop: '1.2M', tz: 'UTC+8', hub: false },
      { id: 'jining_cn', name: "Jining", country: "China", flag: 'üá®üá≥', lat: 35.405, lng: 116.58139, pop: '1.2M', tz: 'UTC+8', hub: false },
      { id: 'jinhua_cn', name: "Jinhua", country: "China", flag: 'üá®üá≥', lat: 29.10678, lng: 119.64421, pop: '1.5M', tz: 'UTC+8', hub: false },
      { id: 'jingzhou_cn', name: "Jingzhou", country: "China", flag: 'üá®üá≥', lat: 30.35028, lng: 112.19028, pop: '1.1M', tz: 'UTC+8', hub: false },
      { id: 'jinan_cn', name: "Jinan", country: "China", flag: 'üá®üá≥', lat: 36.66833, lng: 116.99722, pop: '4.3M', tz: 'UTC+8', hub: false },
      { id: 'jiaxing_cn', name: "Jiaxing", country: "China", flag: 'üá®üá≥', lat: 30.7522, lng: 120.75, pop: '1.2M', tz: 'UTC+8', hub: false },
      { id: 'jiangmen_cn', name: "Jiangmen", country: "China", flag: 'üá®üá≥', lat: 22.58333, lng: 113.08333, pop: '1.8M', tz: 'UTC+8', hub: false },
      { id: 'yangjiang_cn', name: "Yangjiang", country: "China", flag: 'üá®üá≥', lat: 21.85563, lng: 111.96272, pop: '1.3M', tz: 'UTC+8', hub: false },
      { id: 'huzhou_cn', name: "Huzhou", country: "China", flag: 'üá®üá≥', lat: 30.8703, lng: 120.0933, pop: '1M', tz: 'UTC+8', hub: false },
      { id: 'cixi_cn', name: "Cixi", country: "China", flag: 'üá®üá≥', lat: 30.1764, lng: 121.2457, pop: '1.5M', tz: 'UTC+8', hub: false },
      { id: 'huizhou_cn', name: "Huizhou", country: "China", flag: 'üá®üá≥', lat: 23.11147, lng: 114.41523, pop: '2.9M', tz: 'UTC+8', hub: false },
      { id: 'huainan_cn', name: "Huainan", country: "China", flag: 'üá®üá≥', lat: 32.62639, lng: 116.99694, pop: '1.7M', tz: 'UTC+8', hub: false },
      { id: 'huaibei_cn', name: "Huaibei", country: "China", flag: 'üá®üá≥', lat: 33.97444, lng: 116.79167, pop: '1.1M', tz: 'UTC+8', hub: false },
      { id: 'heze_cn', name: "Heze", country: "China", flag: 'üá®üá≥', lat: 35.23929, lng: 115.47358, pop: '1.3M', tz: 'UTC+8', hub: false },
      { id: 'heshan_cn', name: "Heshan", country: "China", flag: 'üá®üá≥', lat: 28.56938, lng: 112.34733, pop: '1.2M', tz: 'UTC+8', hub: false },
      { id: 'hengyang_cn', name: "Hengyang", country: "China", flag: 'üá®üá≥', lat: 26.88946, lng: 112.61888, pop: '1.1M', tz: 'UTC+8', hub: false },
      { id: 'hefei_cn', name: "Hefei", country: "China", flag: 'üá®üá≥', lat: 31.86389, lng: 117.28083, pop: '5M', tz: 'UTC+8', hub: false },
      { id: 'hanzhong_cn', name: "Hanzhong", country: "China", flag: 'üá®üá≥', lat: 33.07507, lng: 107.02214, pop: '1M', tz: 'UTC+8', hub: false },
      { id: 'hangzhou_cn', name: "Hangzhou", country: "China", flag: 'üá®üá≥', lat: 30.29365, lng: 120.16142, pop: '9.2M', tz: 'UTC+8', hub: false },
      { id: 'changzhi_cn', name: "Changzhi", country: "China", flag: 'üá®üá≥', lat: 36.18389, lng: 113.10528, pop: '1.2M', tz: 'UTC+8', hub: false },
      { id: 'handan_cn', name: "Handan", country: "China", flag: 'üá®üá≥', lat: 36.60999, lng: 114.48764, pop: '1.4M', tz: 'UTC+8', hub: false },
      { id: 'haikou_cn', name: "Haikou", country: "China", flag: 'üá®üá≥', lat: 20.03421, lng: 110.34651, pop: '2.9M', tz: 'UTC+8', hub: false },
      { id: 'guiyang_cn', name: "Guiyang", country: "China", flag: 'üá®üá≥', lat: 26.58333, lng: 106.71667, pop: '3M', tz: 'UTC+8', hub: false },
      { id: 'guilin_cn', name: "Guilin", country: "China", flag: 'üá®üá≥', lat: 25.28022, lng: 110.29639, pop: '1.6M', tz: 'UTC+8', hub: false },
      { id: 'guigang_cn', name: "Guigang", country: "China", flag: 'üá®üá≥', lat: 23.11603, lng: 109.59472, pop: '1.1M', tz: 'UTC+8', hub: false },
      { id: 'guangzhou_cn', name: "Guangzhou", country: "China", flag: 'üá®üá≥', lat: 23.11667, lng: 113.25, pop: '16.1M', tz: 'UTC+8', hub: false },
      { id: 'ganzhou_cn', name: "Ganzhou", country: "China", flag: 'üá®üá≥', lat: 25.84664, lng: 114.9326, pop: '2M', tz: 'UTC+8', hub: false },
      { id: 'fuzhou_cn', name: "Fuzhou", country: "China", flag: 'üá®üá≥', lat: 27.95999, lng: 116.33333, pop: '1.1M', tz: 'UTC+8', hub: false },
      { id: 'fuyang_cn', name: "Fuyang", country: "China", flag: 'üá®üá≥', lat: 32.9, lng: 115.81667, pop: '1.8M', tz: 'UTC+8', hub: false },
      { id: 'foshan_cn', name: "Foshan", country: "China", flag: 'üá®üá≥', lat: 23.02677, lng: 113.13148, pop: '9M', tz: 'UTC+8', hub: false },
      { id: 'dongguan_cn', name: "Dongguan", country: "China", flag: 'üá®üá≥', lat: 23.01797, lng: 113.74866, pop: '9.6M', tz: 'UTC+8', hub: false },
      { id: 'dazhou_cn', name: "Dazhou", country: "China", flag: 'üá®üá≥', lat: 31.2106, lng: 107.46308, pop: '1.6M', tz: 'UTC+8', hub: false },
      { id: 'dalian_cn', name: "Dalian", country: "China", flag: 'üá®üá≥', lat: 38.91222, lng: 121.60222, pop: '4.9M', tz: 'UTC+8', hub: false },
      { id: 'yiwu_cn', name: "Yiwu", country: "China", flag: 'üá®üá≥', lat: 29.31506, lng: 120.07676, pop: '1.5M', tz: 'UTC+8', hub: false },
      { id: 'chongqing_cn', name: "Chongqing", country: "China", flag: 'üá®üá≥', lat: 29.56026, lng: 106.55771, pop: '7.5M', tz: 'UTC+8', hub: false },
      { id: 'jiangyin_cn', name: "Jiangyin", country: "China", flag: 'üá®üá≥', lat: 31.91102, lng: 120.26302, pop: '1.8M', tz: 'UTC+8', hub: false },
      { id: 'chengdu_cn', name: "Chengdu", country: "China", flag: 'üá®üá≥', lat: 30.66667, lng: 104.06667, pop: '13.6M', tz: 'UTC+8', hub: false },
      { id: 'chaozhou_cn', name: "Chaozhou", country: "China", flag: 'üá®üá≥', lat: 23.65396, lng: 116.62262, pop: '1.8M', tz: 'UTC+8', hub: false },
      { id: 'changzhou_cn', name: "Changzhou", country: "China", flag: 'üá®üá≥', lat: 31.77359, lng: 119.95401, pop: '3.3M', tz: 'UTC+8', hub: false },
      { id: 'changsha_cn', name: "Changsha", country: "China", flag: 'üá®üá≥', lat: 28.19874, lng: 112.97087, pop: '3.1M', tz: 'UTC+8', hub: false },
      { id: 'bozhou_cn', name: "Bozhou", country: "China", flag: 'üá®üá≥', lat: 33.87722, lng: 115.77028, pop: '1.4M', tz: 'UTC+8', hub: false },
      { id: 'bijie_cn', name: "Bijie", country: "China", flag: 'üá®üá≥', lat: 27.30193, lng: 105.28627, pop: '1.1M', tz: 'UTC+8', hub: false },
      { id: 'beijing_cn', name: "Beijing", country: "China", flag: 'üá®üá≥', lat: 39.9075, lng: 116.39723, pop: '19M', tz: 'UTC+8', hub: false },
      { id: 'baoding_cn', name: "Baoding", country: "China", flag: 'üá®üá≥', lat: 38.87288, lng: 115.46246, pop: '2.7M', tz: 'UTC+8', hub: false },
      { id: 'shenyang_cn', name: "Shenyang", country: "China", flag: 'üá®üá≥', lat: 41.79222, lng: 123.43278, pop: '7M', tz: 'UTC+8', hub: false },
      { id: 'jilin_cn', name: "Jilin", country: "China", flag: 'üá®üá≥', lat: 43.84652, lng: 126.5608, pop: '1.9M', tz: 'UTC+8', hub: false },
      { id: 'hohhot_cn', name: "Hohhot", country: "China", flag: 'üá®üá≥', lat: 40.81056, lng: 111.65222, pop: '2.4M', tz: 'UTC+8', hub: false },
      { id: 'harbin_cn', name: "Harbin", country: "China", flag: 'üá®üá≥', lat: 45.75, lng: 126.65, pop: '5.2M', tz: 'UTC+8', hub: false },
      { id: 'fushun_cn', name: "Fushun", country: "China", flag: 'üá®üá≥', lat: 41.88669, lng: 123.94363, pop: '1.4M', tz: 'UTC+8', hub: false },
      { id: 'datong_cn', name: "Datong", country: "China", flag: 'üá®üá≥', lat: 40.09361, lng: 113.29139, pop: '1.9M', tz: 'UTC+8', hub: false },
      { id: 'daqing_cn', name: "Daqing", country: "China", flag: 'üá®üá≥', lat: 46.58333, lng: 125.0, pop: '1.6M', tz: 'UTC+8', hub: false },
      { id: 'changchun_cn', name: "Changchun", country: "China", flag: 'üá®üá≥', lat: 43.88, lng: 125.32278, pop: '4.7M', tz: 'UTC+8', hub: false },
      { id: 'baotou_cn', name: "Baotou", country: "China", flag: 'üá®üá≥', lat: 40.6516, lng: 109.84389, pop: '2.1M', tz: 'UTC+8', hub: false },
      { id: 'anshan_cn', name: "Anshan", country: "China", flag: 'üá®üá≥', lat: 41.12361, lng: 122.99, pop: '1.4M', tz: 'UTC+8', hub: false },
      { id: 'zhongshan_cn', name: "Zhongshan", country: "China", flag: 'üá®üá≥', lat: 22.52306, lng: 113.37912, pop: '3.8M', tz: 'UTC+8', hub: false },
      { id: 'changshu_cn', name: "Changshu", country: "China", flag: 'üá®üá≥', lat: 31.64615, lng: 120.74221, pop: '1.7M', tz: 'UTC+8', hub: false },
      { id: 'hezhou_cn', name: "Hezhou", country: "China", flag: 'üá®üá≥', lat: 24.40357, lng: 111.56675, pop: '1M', tz: 'UTC+8', hub: false },
      { id: 'zhuchengcity_cn', name: "Zhu Cheng City", country: "China", flag: 'üá®üá≥', lat: 35.99502, lng: 119.40259, pop: '1M', tz: 'UTC+8', hub: false },
      { id: 'ordos_cn', name: "Ordos", country: "China", flag: 'üá®üá≥', lat: 39.6086, lng: 109.78157, pop: '1.9M', tz: 'UTC+8', hub: false },
      { id: 'liupanshui_cn', name: "Liupanshui", country: "China", flag: 'üá®üá≥', lat: 26.59444, lng: 104.83333, pop: '1.3M', tz: 'UTC+8', hub: false },
      { id: 'xuzhou_cn', name: "Xuzhou", country: "China", flag: 'üá®üá≥', lat: 34.20442, lng: 117.28386, pop: '1.3M', tz: 'UTC+8', hub: false },
      { id: 'lianyungang_cn', name: "Lianyungang", country: "China", flag: 'üá®üá≥', lat: 34.59845, lng: 119.21556, pop: '2M', tz: 'UTC+8', hub: false },
      { id: 'jinzhong_cn', name: "Jinzhong", country: "China", flag: 'üá®üá≥', lat: 37.68403, lng: 112.75471, pop: '1.2M', tz: 'UTC+8', hub: false },
      { id: 'baoji_cn', name: "Baoji", country: "China", flag: 'üá®üá≥', lat: 34.36775, lng: 107.23705, pop: '1.4M', tz: 'UTC+8', hub: false },
      { id: 'bayannur_cn', name: "Bayan Nur", country: "China", flag: 'üá®üá≥', lat: 40.74143, lng: 107.38599, pop: '1.8M', tz: 'UTC+8', hub: false },
      { id: 'wanzhou_cn', name: "Wanzhou", country: "China", flag: 'üá®üá≥', lat: 30.76451, lng: 108.39586, pop: '1.5M', tz: 'UTC+8', hub: false },
      { id: 'qingyang_cn', name: "Qingyang", country: "China", flag: 'üá®üá≥', lat: 35.70976, lng: 107.64455, pop: '2.1M', tz: 'UTC+8', hub: false },
      { id: 'baoan_cn', name: "Bao'an", country: "China", flag: 'üá®üá≥', lat: 22.55213, lng: 113.88288, pop: '4.5M', tz: 'UTC+8', hub: false },
      { id: 'luohudistrict_cn', name: "Luohu District", country: "China", flag: 'üá®üá≥', lat: 22.54721, lng: 114.13149, pop: '1.1M', tz: 'UTC+8', hub: false },
      { id: 'lueliang_cn', name: "Lueliang", country: "China", flag: 'üá®üá≥', lat: 37.5192, lng: 111.14436, pop: '3.3M', tz: 'UTC+8', hub: false },
      { id: 'medellin_co', name: "Medellin", country: "Colombia", flag: 'üá®üá¥', lat: 6.245, lng: -75.57151, pop: '2M', tz: 'UTC-5', hub: false },
      { id: 'cali_co', name: "Cali", country: "Colombia", flag: 'üá®üá¥', lat: 3.43054, lng: -76.5199, pop: '2.4M', tz: 'UTC-5', hub: false },
      { id: 'bogota_co', name: "Bogota", country: "Colombia", flag: 'üá®üá¥', lat: 4.60971, lng: -74.08175, pop: '7.7M', tz: 'UTC-5', hub: false },
      { id: 'barranquilla_co', name: "Barranquilla", country: "Colombia", flag: 'üá®üá¥', lat: 10.96854, lng: -74.78132, pop: '1.2M', tz: 'UTC-5', hub: false },
      { id: 'havana_cu', name: "Havana", country: "Cuba", flag: 'üá®üá∫', lat: 23.13302, lng: -82.38304, pop: '2.2M', tz: 'UTC-5', hub: false },
      { id: 'prague_cz', name: "Prague", country: "Czechia", flag: 'üá®üáø', lat: 50.08804, lng: 14.42076, pop: '1.2M', tz: 'UTC+1', hub: false },
      { id: 'munich_de', name: "Munich", country: "Germany", flag: 'üá©üá™', lat: 48.13743, lng: 11.57549, pop: '1.3M', tz: 'UTC+1', hub: false },
      { id: 'hamburg_de', name: "Hamburg", country: "Germany", flag: 'üá©üá™', lat: 53.55073, lng: 9.99302, pop: '1.8M', tz: 'UTC+1', hub: false },
      { id: 'berlin_de', name: "Berlin", country: "Germany", flag: 'üá©üá™', lat: 52.52437, lng: 13.41053, pop: '3.4M', tz: 'UTC+1', hub: false },
      { id: 'copenhagen_dk', name: "Copenhagen", country: "Denmark", flag: 'üá©üá∞', lat: 55.67594, lng: 12.56553, pop: '1.2M', tz: 'UTC+1', hub: false },
      { id: 'santodomingo_do', name: "Santo Domingo", country: "Dominican Republic", flag: 'üá©üá¥', lat: 18.47186, lng: -69.89232, pop: '2.2M', tz: 'UTC-4', hub: false },
      { id: 'santiagodeloscaballeros_do', name: "Santiago de los Caballeros", country: "Dominican Republic", flag: 'üá©üá¥', lat: 19.45036, lng: -70.69085, pop: '1.2M', tz: 'UTC-4', hub: false },
      { id: 'algiers_dz', name: "Algiers", country: "Algeria", flag: 'üá©üáø', lat: 36.73225, lng: 3.08746, pop: '2.4M', tz: 'UTC+1', hub: false },
      { id: 'quito_ec', name: "Quito", country: "Ecuador", flag: 'üá™üá®', lat: -0.22985, lng: -78.52495, pop: '2.8M', tz: 'UTC-5', hub: false },
      { id: 'guayaquil_ec', name: "Guayaquil", country: "Ecuador", flag: 'üá™üá®', lat: -2.19616, lng: -79.88621, pop: '2.7M', tz: 'UTC-5', hub: false },
      { id: 'shubraalkhaymah_eg', name: "Shubra al Khaymah", country: "Egypt", flag: 'üá™üá¨', lat: 30.12511, lng: 31.25053, pop: '1.2M', tz: 'UTC+2', hub: false },
      { id: 'giza_eg', name: "Giza", country: "Egypt", flag: 'üá™üá¨', lat: 30.00944, lng: 31.20861, pop: '4.4M', tz: 'UTC+2', hub: false },
      { id: 'alexandria_eg', name: "Alexandria", country: "Egypt", flag: 'üá™üá¨', lat: 31.20176, lng: 29.91582, pop: '5.3M', tz: 'UTC+2', hub: false },
      { id: 'madrid_es', name: "Madrid", country: "Spain", flag: 'üá™üá∏', lat: 40.4165, lng: -3.70256, pop: '3.3M', tz: 'UTC+1', hub: false },
      { id: 'addisababa_et', name: "Addis Ababa", country: "Ethiopia", flag: 'üá™üáπ', lat: 9.02497, lng: 38.74689, pop: '3.9M', tz: 'UTC+3', hub: false },
      { id: 'paris_fr', name: "Paris", country: "France", flag: 'üá´üá∑', lat: 48.85341, lng: 2.3488, pop: '2.1M', tz: 'UTC+1', hub: false },
      { id: 'birmingham_gb', name: "Birmingham", country: "United Kingdom", flag: 'üá¨üáß', lat: 52.48142, lng: -1.89983, pop: '1.2M', tz: 'UTC+0', hub: false },
      { id: 'tbilisi_ge', name: "Tbilisi", country: "Georgia", flag: 'üá¨üá™', lat: 41.69143, lng: 44.83412, pop: '1M', tz: 'UTC+4', hub: false },
      { id: 'kumasi_gh', name: "Kumasi", country: "Ghana", flag: 'üá¨üá≠', lat: 6.68848, lng: -1.62443, pop: '2.5M', tz: 'UTC+0', hub: false },
      { id: 'accra_gh', name: "Accra", country: "Ghana", flag: 'üá¨üá≠', lat: 5.55602, lng: -0.1969, pop: '2M', tz: 'UTC+0', hub: false },
      { id: 'conakry_gn', name: "Conakry", country: "Guinea", flag: 'üá¨üá≥', lat: 9.53795, lng: -13.67729, pop: '1.9M', tz: 'UTC+0', hub: false },
      { id: 'camayenne_gn', name: "Camayenne", country: "Guinea", flag: 'üá¨üá≥', lat: 9.535, lng: -13.68778, pop: '1.9M', tz: 'UTC+0', hub: false },
      { id: 'kowloon_hk', name: "Kowloon", country: "Hong Kong", flag: 'üá≠üá∞', lat: 22.31667, lng: 114.18333, pop: '2.2M', tz: 'UTC+8', hub: false },
      { id: 'hongkong_hk', name: "Hong Kong", country: "Hong Kong", flag: 'üá≠üá∞', lat: 22.27832, lng: 114.17469, pop: '7.4M', tz: 'UTC+8', hub: false },
      { id: 'newterritories_hk', name: "New Territories", country: "Hong Kong", flag: 'üá≠üá∞', lat: 22.42441, lng: 114.11095, pop: '4M', tz: 'UTC+8', hub: false },
      { id: 'hongkongisland_hk', name: "Hong Kong Island", country: "Hong Kong", flag: 'üá≠üá∞', lat: 22.26302, lng: 114.18419, pop: '1.2M', tz: 'UTC+8', hub: false },
      { id: 'portauprince_ht', name: "Port-au-Prince", country: "Haiti", flag: 'üá≠üáπ', lat: 18.54349, lng: -72.33881, pop: '1.2M', tz: 'UTC-5', hub: false },
      { id: 'budapest_hu', name: "Budapest", country: "Hungary", flag: 'üá≠üá∫', lat: 47.49835, lng: 19.04045, pop: '1.7M', tz: 'UTC+1', hub: false },
      { id: 'medan_id', name: "Medan", country: "Indonesia", flag: 'üáÆüá©', lat: 3.58333, lng: 98.66667, pop: '2.4M', tz: 'UTC+7', hub: false },
      { id: 'makassar_id', name: "Makassar", country: "Indonesia", flag: 'üáÆüá©', lat: -5.14861, lng: 119.43194, pop: '1.4M', tz: 'UTC+8', hub: false },
      { id: 'bandarlampung_id', name: "Bandar Lampung", country: "Indonesia", flag: 'üáÆüá©', lat: -5.42917, lng: 105.26111, pop: '1.2M', tz: 'UTC+7', hub: false },
      { id: 'tangerang_id', name: "Tangerang", country: "Indonesia", flag: 'üáÆüá©', lat: -6.17806, lng: 106.63, pop: '1.9M', tz: 'UTC+7', hub: false },
      { id: 'surabaya_id', name: "Surabaya", country: "Indonesia", flag: 'üáÆüá©', lat: -7.24917, lng: 112.75083, pop: '2.9M', tz: 'UTC+7', hub: false },
      { id: 'semarang_id', name: "Semarang", country: "Indonesia", flag: 'üáÆüá©', lat: -6.99306, lng: 110.42083, pop: '1.7M', tz: 'UTC+7', hub: false },
      { id: 'pekanbaru_id', name: "Pekanbaru", country: "Indonesia", flag: 'üáÆüá©', lat: 0.51667, lng: 101.44167, pop: '1.1M', tz: 'UTC+7', hub: false },
      { id: 'palembang_id', name: "Palembang", country: "Indonesia", flag: 'üáÆüá©', lat: -2.91673, lng: 104.7458, pop: '1.7M', tz: 'UTC+7', hub: false },
      { id: 'jepara_id', name: "Jepara", country: "Indonesia", flag: 'üáÆüá©', lat: -6.5924, lng: 110.671, pop: '1.3M', tz: 'UTC+7', hub: false },
      { id: 'jakarta_id', name: "Jakarta", country: "Indonesia", flag: 'üáÆüá©', lat: -6.21462, lng: 106.84513, pop: '8.5M', tz: 'UTC+7', hub: false },
      { id: 'depok_id', name: "Depok", country: "Indonesia", flag: 'üáÆüá©', lat: -6.4, lng: 106.81861, pop: '2.1M', tz: 'UTC+7', hub: false },
      { id: 'bogor_id', name: "Bogor", country: "Indonesia", flag: 'üáÆüá©', lat: -6.59444, lng: 106.78917, pop: '1.1M', tz: 'UTC+7', hub: false },
      { id: 'bekasi_id', name: "Bekasi", country: "Indonesia", flag: 'üáÆüá©', lat: -6.2349, lng: 106.9896, pop: '2.6M', tz: 'UTC+7', hub: false },
      { id: 'bandung_id', name: "Bandung", country: "Indonesia", flag: 'üáÆüá©', lat: -6.92222, lng: 107.60694, pop: '2.4M', tz: 'UTC+7', hub: false },
      { id: 'batam_id', name: "Batam", country: "Indonesia", flag: 'üáÆüá©', lat: 1.14937, lng: 104.02491, pop: '1.2M', tz: 'UTC+7', hub: false },
      { id: 'southtangerang_id', name: "South Tangerang", country: "Indonesia", flag: 'üáÆüá©', lat: -6.28862, lng: 106.71789, pop: '1.4M', tz: 'UTC+7', hub: false },
      { id: 'dublin_ie', name: "Dublin", country: "Ireland", flag: 'üáÆüá™', lat: 53.33306, lng: -6.24889, pop: '1M', tz: 'UTC+0', hub: false },
      { id: 'visakhapatnam_in', name: "Visakhapatnam", country: "India", flag: 'üáÆüá≥', lat: 17.68009, lng: 83.20161, pop: '1.1M', tz: 'UTC+5.5', hub: false },
      { id: 'virar_in', name: "Virar", country: "India", flag: 'üáÆüá≥', lat: 19.45591, lng: 72.81136, pop: '1.2M', tz: 'UTC+5.5', hub: false },
      { id: 'vijayawada_in', name: "Vijayawada", country: "India", flag: 'üáÆüá≥', lat: 16.50745, lng: 80.6466, pop: '1.1M', tz: 'UTC+5.5', hub: false },
      { id: 'varanasi_in', name: "Varanasi", country: "India", flag: 'üáÆüá≥', lat: 25.31668, lng: 83.01041, pop: '1.2M', tz: 'UTC+5.5', hub: false },
      { id: 'vadodara_in', name: "Vadodara", country: "India", flag: 'üáÆüá≥', lat: 22.29941, lng: 73.20812, pop: '1.8M', tz: 'UTC+5.5', hub: false },
      { id: 'tirunelveli_in', name: "Tirunelveli", country: "India", flag: 'üáÆüá≥', lat: 8.72742, lng: 77.6838, pop: '1.4M', tz: 'UTC+5.5', hub: false },
      { id: 'tiruchirappalli_in', name: "Tiruchirappalli", country: "India", flag: 'üáÆüá≥', lat: 10.8155, lng: 78.69651, pop: '1M', tz: 'UTC+5.5', hub: false },
      { id: 'thane_in', name: "Thane", country: "India", flag: 'üáÆüá≥', lat: 19.19704, lng: 72.96355, pop: '1.8M', tz: 'UTC+5.5', hub: false },
      { id: 'teni_in', name: "Teni", country: "India", flag: 'üáÆüá≥', lat: 10.01115, lng: 77.47772, pop: '1M', tz: 'UTC+5.5', hub: false },
      { id: 'surat_in', name: "Surat", country: "India", flag: 'üáÆüá≥', lat: 21.19594, lng: 72.83023, pop: '4.6M', tz: 'UTC+5.5', hub: false },
      { id: 'srinagar_in', name: "Srinagar", country: "India", flag: 'üáÆüá≥', lat: 34.08565, lng: 74.80555, pop: '1.2M', tz: 'UTC+5.5', hub: false },
      { id: 'rasapudipalem_in', name: "Rasapudipalem", country: "India", flag: 'üáÆüá≥', lat: 17.73308, lng: 83.31622, pop: '1.7M', tz: 'UTC+5.5', hub: false },
      { id: 'ranchi_in', name: "Ranchi", country: "India", flag: 'üáÆüá≥', lat: 23.34316, lng: 85.3094, pop: '1.1M', tz: 'UTC+5.5', hub: false },
      { id: 'rajkot_in', name: "Rajkot", country: "India", flag: 'üáÆüá≥', lat: 22.29161, lng: 70.79322, pop: '1.4M', tz: 'UTC+5.5', hub: false },
      { id: 'raipur_in', name: "Raipur", country: "India", flag: 'üáÆüá≥', lat: 21.23333, lng: 81.63333, pop: '1M', tz: 'UTC+5.5', hub: false },
      { id: 'pune_in', name: "Pune", country: "India", flag: 'üáÆüá≥', lat: 18.51957, lng: 73.85535, pop: '3.1M', tz: 'UTC+5.5', hub: false },
      { id: 'pimpri_in', name: "Pimpri", country: "India", flag: 'üáÆüá≥', lat: 18.62292, lng: 73.80696, pop: '1.3M', tz: 'UTC+5.5', hub: false },
      { id: 'patna_in', name: "Patna", country: "India", flag: 'üáÆüá≥', lat: 25.59408, lng: 85.13563, pop: '1.7M', tz: 'UTC+5.5', hub: false },
      { id: 'nowrangapur_in', name: "Nowrangapur", country: "India", flag: 'üáÆüá≥', lat: 19.23114, lng: 82.54826, pop: '1.2M', tz: 'UTC+5.5', hub: false },
      { id: 'nashik_in', name: "Nashik", country: "India", flag: 'üáÆüá≥', lat: 19.99727, lng: 73.79096, pop: '1.5M', tz: 'UTC+5.5', hub: false },
      { id: 'najafgarh_in', name: "Najafgarh", country: "India", flag: 'üáÆüá≥', lat: 28.60922, lng: 76.97982, pop: '1.4M', tz: 'UTC+5.5', hub: false },
      { id: 'nagpur_in', name: "Nagpur", country: "India", flag: 'üáÆüá≥', lat: 21.14631, lng: 79.08491, pop: '2.4M', tz: 'UTC+5.5', hub: false },
      { id: 'meerut_in', name: "Meerut", country: "India", flag: 'üáÆüá≥', lat: 28.98002, lng: 77.70636, pop: '1.2M', tz: 'UTC+5.5', hub: false },
      { id: 'madurai_in', name: "Madurai", country: "India", flag: 'üáÆüá≥', lat: 9.919, lng: 78.11953, pop: '1.5M', tz: 'UTC+5.5', hub: false },
      { id: 'chennai_in', name: "Chennai", country: "India", flag: 'üáÆüá≥', lat: 13.08784, lng: 80.27847, pop: '4.7M', tz: 'UTC+5.5', hub: false },
      { id: 'ludhiana_in', name: "Ludhiana", country: "India", flag: 'üáÆüá≥', lat: 30.91204, lng: 75.85379, pop: '1.6M', tz: 'UTC+5.5', hub: false },
      { id: 'lucknow_in', name: "Lucknow", country: "India", flag: 'üáÆüá≥', lat: 26.83928, lng: 80.92313, pop: '2.5M', tz: 'UTC+5.5', hub: false },
      { id: 'kota_in', name: "Kota", country: "India", flag: 'üáÆüá≥', lat: 25.18254, lng: 75.83907, pop: '1M', tz: 'UTC+5.5', hub: false },
      { id: 'kanpur_in', name: "Kanpur", country: "India", flag: 'üáÆüá≥', lat: 26.46523, lng: 80.34975, pop: '2.8M', tz: 'UTC+5.5', hub: false },
      { id: 'kalyan_in', name: "Kalyan", country: "India", flag: 'üáÆüá≥', lat: 19.2437, lng: 73.13554, pop: '1.3M', tz: 'UTC+5.5', hub: false },
      { id: 'jodhpur_in', name: "Jodhpur", country: "India", flag: 'üáÆüá≥', lat: 26.26841, lng: 73.00594, pop: '1.1M', tz: 'UTC+5.5', hub: false },
      { id: 'jamshedpur_in', name: "Jamshedpur", country: "India", flag: 'üáÆüá≥', lat: 22.80278, lng: 86.18545, pop: '1.3M', tz: 'UTC+5.5', hub: false },
      { id: 'jaipur_in', name: "Jaipur", country: "India", flag: 'üáÆüá≥', lat: 26.91962, lng: 75.78781, pop: '3M', tz: 'UTC+5.5', hub: false },
      { id: 'jabalpur_in', name: "Jabalpur", country: "India", flag: 'üáÆüá≥', lat: 23.16697, lng: 79.95006, pop: '1.1M', tz: 'UTC+5.5', hub: false },
      { id: 'indore_in', name: "Indore", country: "India", flag: 'üáÆüá≥', lat: 22.71792, lng: 75.8333, pop: '2M', tz: 'UTC+5.5', hub: false },
      { id: 'hyderabad_in', name: "Hyderabad", country: "India", flag: 'üáÆüá≥', lat: 17.38405, lng: 78.45636, pop: '7M', tz: 'UTC+5.5', hub: false },
      { id: 'howrah_in', name: "Howrah", country: "India", flag: 'üáÆüá≥', lat: 22.57688, lng: 88.31857, pop: '1M', tz: 'UTC+5.5', hub: false },
      { id: 'gwalior_in', name: "Gwalior", country: "India", flag: 'üáÆüá≥', lat: 26.22983, lng: 78.17337, pop: '1.1M', tz: 'UTC+5.5', hub: false },
      { id: 'gorakhpur_in', name: "Gorakhpur", country: "India", flag: 'üáÆüá≥', lat: 29.44768, lng: 75.67206, pop: '1.3M', tz: 'UTC+5.5', hub: false },
      { id: 'ghaziabad_in', name: "Ghaziabad", country: "India", flag: 'üáÆüá≥', lat: 28.66535, lng: 77.43915, pop: '1.2M', tz: 'UTC+5.5', hub: false },
      { id: 'faridabad_in', name: "Faridabad", country: "India", flag: 'üáÆüá≥', lat: 28.41124, lng: 77.31316, pop: '1.4M', tz: 'UTC+5.5', hub: false },
      { id: 'dombivali_in', name: "Dombivali", country: "India", flag: 'üáÆüá≥', lat: 19.21667, lng: 73.08333, pop: '1.2M', tz: 'UTC+5.5', hub: false },
      { id: 'dhanbad_in', name: "Dhanbad", country: "India", flag: 'üáÆüá≥', lat: 23.79759, lng: 86.42992, pop: '1.2M', tz: 'UTC+5.5', hub: false },
      { id: 'delhi_in', name: "Delhi", country: "India", flag: 'üáÆüá≥', lat: 28.65195, lng: 77.23149, pop: '11M', tz: 'UTC+5.5', hub: false },
      { id: 'coimbatore_in', name: "Coimbatore", country: "India", flag: 'üáÆüá≥', lat: 11.00555, lng: 76.96612, pop: '2.1M', tz: 'UTC+5.5', hub: false },
      { id: 'kolkata_in', name: "Kolkata", country: "India", flag: 'üáÆüá≥', lat: 22.56263, lng: 88.36304, pop: '4.6M', tz: 'UTC+5.5', hub: false },
      { id: 'mumbai_in', name: "Mumbai", country: "India", flag: 'üáÆüá≥', lat: 19.07283, lng: 72.88261, pop: '12.7M', tz: 'UTC+5.5', hub: false },
      { id: 'bhopal_in', name: "Bhopal", country: "India", flag: 'üáÆüá≥', lat: 23.25469, lng: 77.40289, pop: '1.8M', tz: 'UTC+5.5', hub: false },
      { id: 'bengaluru_in', name: "Bengaluru", country: "India", flag: 'üáÆüá≥', lat: 12.97194, lng: 77.59369, pop: '8.5M', tz: 'UTC+5.5', hub: false },
      { id: 'aurangabad_in', name: "Aurangabad", country: "India", flag: 'üáÆüá≥', lat: 19.87757, lng: 75.34226, pop: '1.2M', tz: 'UTC+5.5', hub: false },
      { id: 'amritsar_in', name: "Amritsar", country: "India", flag: 'üáÆüá≥', lat: 31.62234, lng: 74.87534, pop: '1.2M', tz: 'UTC+5.5', hub: false },
      { id: 'prayagraj_in', name: "Prayagraj", country: "India", flag: 'üáÆüá≥', lat: 25.44478, lng: 81.84322, pop: '1.1M', tz: 'UTC+5.5', hub: false },
      { id: 'ahmedabad_in', name: "Ahmedabad", country: "India", flag: 'üáÆüá≥', lat: 23.02579, lng: 72.58727, pop: '6.4M', tz: 'UTC+5.5', hub: false },
      { id: 'agra_in', name: "Agra", country: "India", flag: 'üáÆüá≥', lat: 27.18333, lng: 78.01667, pop: '1.4M', tz: 'UTC+5.5', hub: false },
      { id: 'navimumbai_in', name: "Navi Mumbai", country: "India", flag: 'üáÆüá≥', lat: 19.03681, lng: 73.01582, pop: '2.6M', tz: 'UTC+5.5', hub: false },
      { id: 'shivajinagar_in', name: "Shivaji Nagar", country: "India", flag: 'üáÆüá≥', lat: 18.53017, lng: 73.85263, pop: '1M', tz: 'UTC+5.5', hub: false },
      { id: 'pimprichinchwad_in', name: "Pimpri-Chinchwad", country: "India", flag: 'üáÆüá≥', lat: 18.61867, lng: 73.80375, pop: '1.7M', tz: 'UTC+5.5', hub: false },
      { id: 'kallakurichi_in', name: "Kallakurichi", country: "India", flag: 'üáÆüá≥', lat: 11.73379, lng: 78.95925, pop: '1.7M', tz: 'UTC+5.5', hub: false },
      { id: 'kirkuk_iq', name: "Kirkuk", country: "Iraq", flag: 'üáÆüá∂', lat: 35.46806, lng: 44.39222, pop: '1M', tz: 'UTC+3', hub: false },
      { id: 'karbala_iq', name: "Karbala", country: "Iraq", flag: 'üáÆüá∂', lat: 32.61603, lng: 44.02488, pop: '1.2M', tz: 'UTC+3', hub: false },
      { id: 'erbil_iq', name: "Erbil", country: "Iraq", flag: 'üáÆüá∂', lat: 36.19117, lng: 44.00943, pop: '1.6M', tz: 'UTC+3', hub: false },
      { id: 'baghdad_iq', name: "Baghdad", country: "Iraq", flag: 'üáÆüá∂', lat: 33.34058, lng: 44.40088, pop: '7.2M', tz: 'UTC+3', hub: false },
      { id: 'almawsilaljadidah_iq', name: "Al Mawsil al Jadidah", country: "Iraq", flag: 'üáÆüá∂', lat: 36.33271, lng: 43.10555, pop: '2.1M', tz: 'UTC+3', hub: false },
      { id: 'mosul_iq', name: "Mosul", country: "Iraq", flag: 'üáÆüá∂', lat: 36.335, lng: 43.11889, pop: '1.7M', tz: 'UTC+3', hub: false },
      { id: 'basrah_iq', name: "Basrah", country: "Iraq", flag: 'üáÆüá∂', lat: 30.50852, lng: 47.7804, pop: '1.3M', tz: 'UTC+3', hub: false },
      { id: 'albasrahalqadimah_iq', name: "Al Basrah al Qadimah", country: "Iraq", flag: 'üáÆüá∂', lat: 30.50316, lng: 47.81507, pop: '2M', tz: 'UTC+3', hub: false },
      { id: 'tehran_ir', name: "Tehran", country: "Iran", flag: 'üáÆüá∑', lat: 35.69439, lng: 51.42151, pop: '7.2M', tz: 'UTC+3.5', hub: false },
      { id: 'tabriz_ir', name: "Tabriz", country: "Iran", flag: 'üáÆüá∑', lat: 38.08, lng: 46.2919, pop: '1.4M', tz: 'UTC+3.5', hub: false },
      { id: 'shiraz_ir', name: "Shiraz", country: "Iran", flag: 'üáÆüá∑', lat: 29.61031, lng: 52.53113, pop: '1.2M', tz: 'UTC+3.5', hub: false },
      { id: 'mashhad_ir', name: "Mashhad", country: "Iran", flag: 'üáÆüá∑', lat: 36.29807, lng: 59.60567, pop: '2.3M', tz: 'UTC+3.5', hub: false },
      { id: 'karaj_ir', name: "Karaj", country: "Iran", flag: 'üáÆüá∑', lat: 35.83266, lng: 50.99155, pop: '1.4M', tz: 'UTC+3.5', hub: false },
      { id: 'isfahan_ir', name: "Isfahan", country: "Iran", flag: 'üáÆüá∑', lat: 32.65246, lng: 51.67462, pop: '1.5M', tz: 'UTC+3.5', hub: false },
      { id: 'rome_it', name: "Rome", country: "Italy", flag: 'üáÆüáπ', lat: 41.89193, lng: 12.51133, pop: '2.3M', tz: 'UTC+1', hub: false },
      { id: 'milan_it', name: "Milan", country: "Italy", flag: 'üáÆüáπ', lat: 45.46427, lng: 9.18951, pop: '1.4M', tz: 'UTC+1', hub: false },
      { id: 'yokohama_jp', name: "Yokohama", country: "Japan", flag: 'üáØüáµ', lat: 35.43333, lng: 139.65, pop: '3.8M', tz: 'UTC+9', hub: false },
      { id: 'tokyo_jp', name: "Tokyo", country: "Japan", flag: 'üáØüáµ', lat: 35.6895, lng: 139.69171, pop: '9.7M', tz: 'UTC+9', hub: false },
      { id: 'osaka_jp', name: "Osaka", country: "Japan", flag: 'üáØüáµ', lat: 34.69379, lng: 135.50107, pop: '2.8M', tz: 'UTC+9', hub: false },
      { id: 'nagoya_jp', name: "Nagoya", country: "Japan", flag: 'üáØüáµ', lat: 35.18147, lng: 136.90641, pop: '2.3M', tz: 'UTC+9', hub: false },
      { id: 'kyoto_jp', name: "Kyoto", country: "Japan", flag: 'üáØüáµ', lat: 35.02107, lng: 135.75385, pop: '1.5M', tz: 'UTC+9', hub: false },
      { id: 'kobe_jp', name: "Kobe", country: "Japan", flag: 'üáØüáµ', lat: 34.6913, lng: 135.183, pop: '1.5M', tz: 'UTC+9', hub: false },
      { id: 'kawasaki_jp', name: "Kawasaki", country: "Japan", flag: 'üáØüáµ', lat: 35.52056, lng: 139.71722, pop: '1.5M', tz: 'UTC+9', hub: false },
      { id: 'hiroshima_jp', name: "Hiroshima", country: "Japan", flag: 'üáØüáµ', lat: 34.4, lng: 132.45, pop: '1.2M', tz: 'UTC+9', hub: false },
      { id: 'fukuoka_jp', name: "Fukuoka", country: "Japan", flag: 'üáØüáµ', lat: 33.6, lng: 130.41667, pop: '1.6M', tz: 'UTC+9', hub: false },
      { id: 'sendai_jp', name: "Sendai", country: "Japan", flag: 'üáØüáµ', lat: 38.26667, lng: 140.86667, pop: '1.1M', tz: 'UTC+9', hub: false },
      { id: 'sapporo_jp', name: "Sapporo", country: "Japan", flag: 'üáØüáµ', lat: 43.06667, lng: 141.35, pop: '2M', tz: 'UTC+9', hub: false },
      { id: 'saitama_jp', name: "Saitama", country: "Japan", flag: 'üáØüáµ', lat: 35.90807, lng: 139.65657, pop: '1.3M', tz: 'UTC+9', hub: false },
      { id: 'nairobi_ke', name: "Nairobi", country: "Kenya", flag: 'üá∞üá™', lat: -1.28333, lng: 36.81667, pop: '4.4M', tz: 'UTC+3', hub: false },
      { id: 'mombasa_ke', name: "Mombasa", country: "Kenya", flag: 'üá∞üá™', lat: -4.05466, lng: 39.66359, pop: '1.2M', tz: 'UTC+3', hub: false },
      { id: 'kakamega_ke', name: "Kakamega", country: "Kenya", flag: 'üá∞üá™', lat: 0.28422, lng: 34.75229, pop: '1.9M', tz: 'UTC+3', hub: false },
      { id: 'phnompenh_kh', name: "Phnom Penh", country: "Cambodia", flag: 'üá∞üá≠', lat: 11.56245, lng: 104.91601, pop: '1.6M', tz: 'UTC+7', hub: false },
      { id: 'pyongyang_kp', name: "Pyongyang", country: "North Korea", flag: 'üá∞üáµ', lat: 39.03385, lng: 125.75432, pop: '3.2M', tz: 'UTC+9', hub: false },
      { id: 'ulsan_kr', name: "Ulsan", country: "South Korea", flag: 'üá∞üá∑', lat: 35.53722, lng: 129.31667, pop: '1.1M', tz: 'UTC+9', hub: false },
      { id: 'daejeon_kr', name: "Daejeon", country: "South Korea", flag: 'üá∞üá∑', lat: 36.34913, lng: 127.38493, pop: '1.5M', tz: 'UTC+9', hub: false },
      { id: 'daegu_kr', name: "Daegu", country: "South Korea", flag: 'üá∞üá∑', lat: 35.87028, lng: 128.59111, pop: '2.4M', tz: 'UTC+9', hub: false },
      { id: 'suwon_kr', name: "Suwon", country: "South Korea", flag: 'üá∞üá∑', lat: 37.29111, lng: 127.00889, pop: '1.2M', tz: 'UTC+9', hub: false },
      { id: 'seoul_kr', name: "Seoul", country: "South Korea", flag: 'üá∞üá∑', lat: 37.566, lng: 126.9784, pop: '10.3M', tz: 'UTC+9', hub: false },
      { id: 'busan_kr', name: "Busan", country: "South Korea", flag: 'üá∞üá∑', lat: 35.10168, lng: 129.03004, pop: '3.3M', tz: 'UTC+9', hub: false },
      { id: 'gwangju_kr', name: "Gwangju", country: "South Korea", flag: 'üá∞üá∑', lat: 35.15472, lng: 126.91556, pop: '1.4M', tz: 'UTC+9', hub: false },
      { id: 'goyangsi_kr', name: "Goyang-si", country: "South Korea", flag: 'üá∞üá∑', lat: 37.65639, lng: 126.835, pop: '1.1M', tz: 'UTC+9', hub: false },
      { id: 'incheon_kr', name: "Incheon", country: "South Korea", flag: 'üá∞üá∑', lat: 37.45646, lng: 126.70515, pop: '3M', tz: 'UTC+9', hub: false },
      { id: 'changwon_kr', name: "Changwon", country: "South Korea", flag: 'üá∞üá∑', lat: 35.22806, lng: 128.68111, pop: '1M', tz: 'UTC+9', hub: false },
      { id: 'shymkent_kz', name: "Shymkent", country: "Kazakhstan", flag: 'üá∞üáø', lat: 42.30988, lng: 69.60042, pop: '1.2M', tz: 'UTC+5', hub: false },
      { id: 'almaty_kz', name: "Almaty", country: "Kazakhstan", flag: 'üá∞üáø', lat: 43.25249, lng: 76.9115, pop: '2M', tz: 'UTC+5', hub: false },
      { id: 'rasbayrut_lb', name: "Ra's Bayrut", country: "Lebanon", flag: 'üá±üáß', lat: 33.9, lng: 35.48333, pop: '1.3M', tz: 'UTC+2', hub: false },
      { id: 'beirut_lb', name: "Beirut", country: "Lebanon", flag: 'üá±üáß', lat: 33.89332, lng: 35.50157, pop: '1.9M', tz: 'UTC+2', hub: false },
      { id: 'monrovia_lr', name: "Monrovia", country: "Liberia", flag: 'üá±üá∑', lat: 6.30054, lng: -10.7969, pop: '1.5M', tz: 'UTC+0', hub: false },
      { id: 'tripoli_ly', name: "Tripoli", country: "Libya", flag: 'üá±üáæ', lat: 32.88743, lng: 13.18733, pop: '1.3M', tz: 'UTC+2', hub: false },
      { id: 'tangier_ma', name: "Tangier", country: "Morocco", flag: 'üá≤üá¶', lat: 35.76727, lng: -5.79975, pop: '1M', tz: 'UTC+0', hub: false },
      { id: 'rabat_ma', name: "Rabat", country: "Morocco", flag: 'üá≤üá¶', lat: 34.01325, lng: -6.83255, pop: '1.7M', tz: 'UTC+0', hub: false },
      { id: 'fes_ma', name: "Fes", country: "Morocco", flag: 'üá≤üá¶', lat: 34.03313, lng: -5.00028, pop: '1.2M', tz: 'UTC+0', hub: false },
      { id: 'casablanca_ma', name: "Casablanca", country: "Morocco", flag: 'üá≤üá¶', lat: 33.58831, lng: -7.61138, pop: '3.7M', tz: 'UTC+0', hub: false },
      { id: 'antananarivo_mg', name: "Antananarivo", country: "Madagascar", flag: 'üá≤üá¨', lat: -18.91368, lng: 47.53613, pop: '1.3M', tz: 'UTC+3', hub: false },
      { id: 'bamako_ml', name: "Bamako", country: "Mali", flag: 'üá≤üá±', lat: 12.60915, lng: -7.97522, pop: '4.2M', tz: 'UTC+0', hub: false },
      { id: 'yangon_mm', name: "Yangon", country: "Myanmar", flag: 'üá≤üá≤', lat: 16.80528, lng: 96.15611, pop: '4.5M', tz: 'UTC+6.5', hub: false },
      { id: 'mandalay_mm', name: "Mandalay", country: "Myanmar", flag: 'üá≤üá≤', lat: 21.97473, lng: 96.08359, pop: '1.2M', tz: 'UTC+6.5', hub: false },
      { id: 'nouakchott_mr', name: "Nouakchott", country: "Mauritania", flag: 'üá≤üá∑', lat: 18.08581, lng: -15.9785, pop: '1.2M', tz: 'UTC+0', hub: false },
      { id: 'lilongwe_mw', name: "Lilongwe", country: "Malawi", flag: 'üá≤üáº', lat: -13.96692, lng: 33.78725, pop: '1.1M', tz: 'UTC+2', hub: false },
      { id: 'gustavoadolfomadero_mx', name: "Gustavo Adolfo Madero", country: "Mexico", flag: 'üá≤üáΩ', lat: 19.49392, lng: -99.11075, pop: '1.2M', tz: 'UTC-6', hub: false },
      { id: 'puebla_mx', name: "Puebla", country: "Mexico", flag: 'üá≤üáΩ', lat: 19.04778, lng: -98.20723, pop: '1.7M', tz: 'UTC-6', hub: false },
      { id: 'merida_mx', name: "Merida", country: "Mexico", flag: 'üá≤üáΩ', lat: 20.967, lng: -89.62318, pop: '1.2M', tz: 'UTC-6', hub: false },
      { id: 'iztapalapa_mx', name: "Iztapalapa", country: "Mexico", flag: 'üá≤üáΩ', lat: 19.35529, lng: -99.06224, pop: '1.8M', tz: 'UTC-6', hub: false },
      { id: 'ecatepecdemorelos_mx', name: "Ecatepec de Morelos", country: "Mexico", flag: 'üá≤üáΩ', lat: 19.60492, lng: -99.06064, pop: '1.6M', tz: 'UTC-6', hub: false },
      { id: 'ciudadnezahualcoyotl_mx', name: "Ciudad Nezahualcoyotl", country: "Mexico", flag: 'üá≤üáΩ', lat: 19.40061, lng: -99.01483, pop: '1.1M', tz: 'UTC-6', hub: false },
      { id: 'mexicocity_mx', name: "Mexico City", country: "Mexico", flag: 'üá≤üáΩ', lat: 19.42847, lng: -99.12766, pop: '12.3M', tz: 'UTC-6', hub: false },
      { id: 'zapopan_mx', name: "Zapopan", country: "Mexico", flag: 'üá≤üáΩ', lat: 20.72111, lng: -103.38742, pop: '1.5M', tz: 'UTC-6', hub: false },
      { id: 'tijuana_mx', name: "Tijuana", country: "Mexico", flag: 'üá≤üáΩ', lat: 32.5027, lng: -117.00371, pop: '1.9M', tz: 'UTC-8', hub: false },
      { id: 'santiagodequeretaro_mx', name: "Santiago de Queretaro", country: "Mexico", flag: 'üá≤üáΩ', lat: 20.58806, lng: -100.38806, pop: '1.6M', tz: 'UTC-6', hub: false },
      { id: 'monterrey_mx', name: "Monterrey", country: "Mexico", flag: 'üá≤üáΩ', lat: 25.68435, lng: -100.31721, pop: '1.1M', tz: 'UTC-6', hub: false },
      { id: 'mexicali_mx', name: "Mexicali", country: "Mexico", flag: 'üá≤üáΩ', lat: 32.62781, lng: -115.45446, pop: '1M', tz: 'UTC-8', hub: false },
      { id: 'leondelosaldama_mx', name: "Leon de los Aldama", country: "Mexico", flag: 'üá≤üáΩ', lat: 21.12908, lng: -101.67374, pop: '1.6M', tz: 'UTC-6', hub: false },
      { id: 'guadalajara_mx', name: "Guadalajara", country: "Mexico", flag: 'üá≤üáΩ', lat: 20.67738, lng: -103.34749, pop: '1.4M', tz: 'UTC-6', hub: false },
      { id: 'ciudadjuarez_mx', name: "Ciudad Juarez", country: "Mexico", flag: 'üá≤üáΩ', lat: 31.72024, lng: -106.46084, pop: '1.5M', tz: 'UTC-7', hub: false },
      { id: 'kualalumpur_my', name: "Kuala Lumpur", country: "Malaysia", flag: 'üá≤üáæ', lat: 3.1412, lng: 101.68653, pop: '1.5M', tz: 'UTC+8', hub: false },
      { id: 'matola_mz', name: "Matola", country: "Mozambique", flag: 'üá≤üáø', lat: -25.96222, lng: 32.45889, pop: '1.2M', tz: 'UTC+2', hub: false },
      { id: 'maputo_mz', name: "Maputo", country: "Mozambique", flag: 'üá≤üáø', lat: -25.96553, lng: 32.58322, pop: '1.3M', tz: 'UTC+2', hub: false },
      { id: 'niamey_ne', name: "Niamey", country: "Niger", flag: 'üá≥üá™', lat: 13.51366, lng: 2.1098, pop: '1.3M', tz: 'UTC+1', hub: false },
      { id: 'sokoto_ng', name: "Sokoto", country: "Nigeria", flag: 'üá≥üá¨', lat: 13.06269, lng: 5.24322, pop: '1M', tz: 'UTC+1', hub: false },
      { id: 'portharcourt_ng', name: "Port Harcourt", country: "Nigeria", flag: 'üá≥üá¨', lat: 4.77742, lng: 7.0134, pop: '2.1M', tz: 'UTC+1', hub: false },
      { id: 'onitsha_ng', name: "Onitsha", country: "Nigeria", flag: 'üá≥üá¨', lat: 6.14978, lng: 6.78569, pop: '1.6M', tz: 'UTC+1', hub: false },
      { id: 'maiduguri_ng', name: "Maiduguri", country: "Nigeria", flag: 'üá≥üá¨', lat: 11.84692, lng: 13.15712, pop: '1.1M', tz: 'UTC+1', hub: false },
      { id: 'lagos_ng', name: "Lagos", country: "Nigeria", flag: 'üá≥üá¨', lat: 6.45407, lng: 3.39467, pop: '15.4M', tz: 'UTC+1', hub: false },
      { id: 'kano_ng', name: "Kano", country: "Nigeria", flag: 'üá≥üá¨', lat: 12.00012, lng: 8.51672, pop: '4.9M', tz: 'UTC+1', hub: false },
      { id: 'kaduna_ng', name: "Kaduna", country: "Nigeria", flag: 'üá≥üá¨', lat: 10.52641, lng: 7.43879, pop: '1.9M', tz: 'UTC+1', hub: false },
      { id: 'jos_ng', name: "Jos", country: "Nigeria", flag: 'üá≥üá¨', lat: 9.92849, lng: 8.89212, pop: '1M', tz: 'UTC+1', hub: false },
      { id: 'ilorin_ng', name: "Ilorin", country: "Nigeria", flag: 'üá≥üá¨', lat: 8.49664, lng: 4.54214, pop: '1.1M', tz: 'UTC+1', hub: false },
      { id: 'ibadan_ng', name: "Ibadan", country: "Nigeria", flag: 'üá≥üá¨', lat: 7.37756, lng: 3.90591, pop: '3.6M', tz: 'UTC+1', hub: false },
      { id: 'benincity_ng', name: "Benin City", country: "Nigeria", flag: 'üá≥üá¨', lat: 6.33815, lng: 5.62575, pop: '1.8M', tz: 'UTC+1', hub: false },
      { id: 'abuja_ng', name: "Abuja", country: "Nigeria", flag: 'üá≥üá¨', lat: 9.05785, lng: 7.49508, pop: '2.7M', tz: 'UTC+1', hub: false },
      { id: 'aba_ng', name: "Aba", country: "Nigeria", flag: 'üá≥üá¨', lat: 5.10658, lng: 7.36667, pop: '1.2M', tz: 'UTC+1', hub: false },
      { id: 'oslo_no', name: "Oslo", country: "Norway", flag: 'üá≥üá¥', lat: 59.91273, lng: 10.74609, pop: '1.1M', tz: 'UTC+1', hub: false },
      { id: 'kathmandu_np', name: "Kathmandu", country: "Nepal", flag: 'üá≥üáµ', lat: 27.70169, lng: 85.3206, pop: '1.4M', tz: 'UTC+5.75', hub: false },
      { id: 'auckland_nz', name: "Auckland", country: "New Zealand", flag: 'üá≥üáø', lat: -36.84853, lng: 174.76349, pop: '1.5M', tz: 'UTC+13', hub: false },
      { id: 'lima_pe', name: "Lima", country: "Peru", flag: 'üáµüá™', lat: -12.04318, lng: -77.02824, pop: '7.7M', tz: 'UTC-5', hub: false },
      { id: 'callao_pe', name: "Callao", country: "Peru", flag: 'üáµüá™', lat: -12.05162, lng: -77.13452, pop: '1.3M', tz: 'UTC-5', hub: false },
      { id: 'arequipa_pe', name: "Arequipa", country: "Peru", flag: 'üáµüá™', lat: -16.39899, lng: -71.53747, pop: '1M', tz: 'UTC-5', hub: false },
      { id: 'zamboanga_ph', name: "Zamboanga", country: "Philippines", flag: 'üáµüá≠', lat: 6.91028, lng: 122.07389, pop: '1M', tz: 'UTC+8', hub: false },
      { id: 'taguig_ph', name: "Taguig", country: "Philippines", flag: 'üáµüá≠', lat: 14.5243, lng: 121.0792, pop: '1.3M', tz: 'UTC+8', hub: false },
      { id: 'quezoncity_ph', name: "Quezon City", country: "Philippines", flag: 'üáµüá≠', lat: 14.6488, lng: 121.0509, pop: '3.1M', tz: 'UTC+8', hub: false },
      { id: 'manila_ph', name: "Manila", country: "Philippines", flag: 'üáµüá≠', lat: 14.6042, lng: 120.9822, pop: '1.6M', tz: 'UTC+8', hub: false },
      { id: 'davao_ph', name: "Davao", country: "Philippines", flag: 'üáµüá≠', lat: 7.07306, lng: 125.61278, pop: '1.8M', tz: 'UTC+8', hub: false },
      { id: 'caloocan_ph', name: "Caloocan", country: "Philippines", flag: 'üáµüá≠', lat: 14.64953, lng: 120.96788, pop: '1.7M', tz: 'UTC+8', hub: false },
      { id: 'budta_ph', name: "Budta", country: "Philippines", flag: 'üáµüá≠', lat: 7.20417, lng: 124.43972, pop: '1.3M', tz: 'UTC+8', hub: false },
      { id: 'malingao_ph', name: "Malingao", country: "Philippines", flag: 'üáµüá≠', lat: 7.16083, lng: 124.475, pop: '1.1M', tz: 'UTC+8', hub: false },
      { id: 'rawalpindi_pk', name: "Rawalpindi", country: "Pakistan", flag: 'üáµüá∞', lat: 33.59733, lng: 73.0479, pop: '3.4M', tz: 'UTC+5', hub: false },
      { id: 'quetta_pk', name: "Quetta", country: "Pakistan", flag: 'üáµüá∞', lat: 30.18414, lng: 67.00141, pop: '1.6M', tz: 'UTC+5', hub: false },
      { id: 'peshawar_pk', name: "Peshawar", country: "Pakistan", flag: 'üáµüá∞', lat: 34.008, lng: 71.57849, pop: '4.8M', tz: 'UTC+5', hub: false },
      { id: 'multan_pk', name: "Multan", country: "Pakistan", flag: 'üáµüá∞', lat: 30.19679, lng: 71.47824, pop: '2.2M', tz: 'UTC+5', hub: false },
      { id: 'lahore_pk', name: "Lahore", country: "Pakistan", flag: 'üáµüá∞', lat: 31.558, lng: 74.35071, pop: '13M', tz: 'UTC+5', hub: false },
      { id: 'karachi_pk', name: "Karachi", country: "Pakistan", flag: 'üáµüá∞', lat: 24.8608, lng: 67.0104, pop: '11.6M', tz: 'UTC+5', hub: false },
      { id: 'hyderabad_pk', name: "Hyderabad", country: "Pakistan", flag: 'üáµüá∞', lat: 25.39689, lng: 68.37718, pop: '1.9M', tz: 'UTC+5', hub: false },
      { id: 'gujranwala_pk', name: "Gujranwala", country: "Pakistan", flag: 'üáµüá∞', lat: 32.15567, lng: 74.18705, pop: '2.5M', tz: 'UTC+5', hub: false },
      { id: 'faisalabad_pk', name: "Faisalabad", country: "Pakistan", flag: 'üáµüá∞', lat: 31.41554, lng: 73.08969, pop: '3.8M', tz: 'UTC+5', hub: false },
      { id: 'bannu_pk', name: "Bannu", country: "Pakistan", flag: 'üáµüá∞', lat: 32.98527, lng: 70.60403, pop: '1.4M', tz: 'UTC+5', hub: false },
      { id: 'warsaw_pl', name: "Warsaw", country: "Poland", flag: 'üáµüá±', lat: 52.22977, lng: 21.01178, pop: '1.7M', tz: 'UTC+1', hub: false },
      { id: 'asuncion_py', name: "Asuncion", country: "Paraguay", flag: 'üáµüáæ', lat: -25.28646, lng: -57.647, pop: '1.5M', tz: 'UTC-3', hub: false },
      { id: 'bucharest_ro', name: "Bucharest", country: "Romania", flag: 'üá∑üá¥', lat: 44.43225, lng: 26.10626, pop: '1.9M', tz: 'UTC+2', hub: false },
      { id: 'belgrade_rs', name: "Belgrade", country: "Serbia", flag: 'üá∑üá∏', lat: 44.80401, lng: 20.46513, pop: '1.3M', tz: 'UTC+1', hub: false },
      { id: 'voronezh_ru', name: "Voronezh", country: "Russia", flag: 'üá∑üá∫', lat: 51.66833, lng: 39.19204, pop: '1M', tz: 'UTC+3', hub: false },
      { id: 'volgograd_ru', name: "Volgograd", country: "Russia", flag: 'üá∑üá∫', lat: 48.71378, lng: 44.4976, pop: '1M', tz: 'UTC+3', hub: false },
      { id: 'ufa_ru', name: "Ufa", country: "Russia", flag: 'üá∑üá∫', lat: 54.74306, lng: 55.96779, pop: '1.1M', tz: 'UTC+5', hub: false },
      { id: 'saintpetersburg_ru', name: "Saint Petersburg", country: "Russia", flag: 'üá∑üá∫', lat: 59.93863, lng: 30.31413, pop: '5.4M', tz: 'UTC+3', hub: false },
      { id: 'samara_ru', name: "Samara", country: "Russia", flag: 'üá∑üá∫', lat: 53.20767, lng: 50.13553, pop: '1.2M', tz: 'UTC+4', hub: false },
      { id: 'rostovnadonu_ru', name: "Rostov-na-Donu", country: "Russia", flag: 'üá∑üá∫', lat: 47.21997, lng: 39.70769, pop: '1.1M', tz: 'UTC+3', hub: false },
      { id: 'nizhniynovgorod_ru', name: "Nizhniy Novgorod", country: "Russia", flag: 'üá∑üá∫', lat: 56.32867, lng: 44.00205, pop: '1.3M', tz: 'UTC+3', hub: false },
      { id: 'moscow_ru', name: "Moscow", country: "Russia", flag: 'üá∑üá∫', lat: 55.75204, lng: 37.61781, pop: '10.4M', tz: 'UTC+3', hub: false },
      { id: 'kazan_ru', name: "Kazan", country: "Russia", flag: 'üá∑üá∫', lat: 55.78874, lng: 49.12214, pop: '1.2M', tz: 'UTC+3', hub: false },
      { id: 'yekaterinburg_ru', name: "Yekaterinburg", country: "Russia", flag: 'üá∑üá∫', lat: 56.85733, lng: 60.61529, pop: '1.5M', tz: 'UTC+5', hub: false },
      { id: 'omsk_ru', name: "Omsk", country: "Russia", flag: 'üá∑üá∫', lat: 54.99244, lng: 73.36859, pop: '1.2M', tz: 'UTC+6', hub: false },
      { id: 'novosibirsk_ru', name: "Novosibirsk", country: "Russia", flag: 'üá∑üá∫', lat: 55.02259, lng: 82.93175, pop: '1.6M', tz: 'UTC+7', hub: false },
      { id: 'krasnoyarsk_ru', name: "Krasnoyarsk", country: "Russia", flag: 'üá∑üá∫', lat: 56.03742, lng: 92.93136, pop: '1.1M', tz: 'UTC+7', hub: false },
      { id: 'chelyabinsk_ru', name: "Chelyabinsk", country: "Russia", flag: 'üá∑üá∫', lat: 55.1611, lng: 61.42877, pop: '1.2M', tz: 'UTC+5', hub: false },
      { id: 'kigali_rw', name: "Kigali", country: "Rwanda", flag: 'üá∑üáº', lat: -1.94995, lng: 30.05885, pop: '1.1M', tz: 'UTC+2', hub: false },
      { id: 'makkah_sa', name: "Makkah", country: "Saudi Arabia", flag: 'üá∏üá¶', lat: 21.42664, lng: 39.82563, pop: '1.6M', tz: 'UTC+3', hub: false },
      { id: 'jeddah_sa', name: "Jeddah", country: "Saudi Arabia", flag: 'üá∏üá¶', lat: 21.49012, lng: 39.18624, pop: '4.7M', tz: 'UTC+3', hub: false },
      { id: 'riyadh_sa', name: "Riyadh", country: "Saudi Arabia", flag: 'üá∏üá¶', lat: 24.68773, lng: 46.72185, pop: '4.2M', tz: 'UTC+3', hub: false },
      { id: 'madinah_sa', name: "Madinah", country: "Saudi Arabia", flag: 'üá∏üá¶', lat: 24.46861, lng: 39.61417, pop: '1.3M', tz: 'UTC+3', hub: false },
      { id: 'dammam_sa', name: "Dammam", country: "Saudi Arabia", flag: 'üá∏üá¶', lat: 26.43442, lng: 50.10326, pop: '1.3M', tz: 'UTC+3', hub: false },
      { id: 'omdurman_sd', name: "Omdurman", country: "Sudan", flag: 'üá∏üá©', lat: 15.64453, lng: 32.47773, pop: '1.8M', tz: 'UTC+2', hub: false },
      { id: 'khartoumnorth_sd', name: "Khartoum North", country: "Sudan", flag: 'üá∏üá©', lat: 15.64925, lng: 32.53458, pop: '1M', tz: 'UTC+2', hub: false },
      { id: 'khartoum_sd', name: "Khartoum", country: "Sudan", flag: 'üá∏üá©', lat: 15.55177, lng: 32.53241, pop: '2M', tz: 'UTC+2', hub: false },
      { id: 'stockholm_se', name: "Stockholm", country: "Sweden", flag: 'üá∏üá™', lat: 59.32938, lng: 18.06871, pop: '1.5M', tz: 'UTC+1', hub: false },
      { id: 'singapore_sg', name: "Singapore", country: "Singapore", flag: 'üá∏üá¨', lat: 1.28967, lng: 103.85007, pop: '5.6M', tz: 'UTC+8', hub: false },
      { id: 'touba_sn', name: "Touba", country: "Senegal", flag: 'üá∏üá≥', lat: 14.86229, lng: -15.87532, pop: '1.1M', tz: 'UTC+0', hub: false },
      { id: 'dakar_sn', name: "Dakar", country: "Senegal", flag: 'üá∏üá≥', lat: 14.6937, lng: -17.44406, pop: '2.6M', tz: 'UTC+0', hub: false },
      { id: 'mogadishu_so', name: "Mogadishu", country: "Somalia", flag: 'üá∏üá¥', lat: 2.03711, lng: 45.34375, pop: '2.6M', tz: 'UTC+3', hub: false },
      { id: 'aleppo_sy', name: "Aleppo", country: "Syria", flag: 'üá∏üáæ', lat: 36.20124, lng: 37.16117, pop: '2.1M', tz: 'UTC+3', hub: false },
      { id: 'damascus_sy', name: "Damascus", country: "Syria", flag: 'üá∏üáæ', lat: 33.5102, lng: 36.29128, pop: '1.6M', tz: 'UTC+3', hub: false },
      { id: 'ndjamena_td', name: "N'Djamena", country: "Chad", flag: 'üáπüá©', lat: 12.10672, lng: 15.0444, pop: '1.4M', tz: 'UTC+1', hub: false },
      { id: 'lome_tg', name: "Lome", country: "Togo", flag: 'üáπüá¨', lat: 6.12874, lng: 1.22154, pop: '2.2M', tz: 'UTC+0', hub: false },
      { id: 'bangkok_th', name: "Bangkok", country: "Thailand", flag: 'üáπüá≠', lat: 13.75398, lng: 100.50144, pop: '5.1M', tz: 'UTC+7', hub: false },
      { id: 'konya_tr', name: "Konya", country: "Turkey", flag: 'üáπüá∑', lat: 37.87135, lng: 32.48464, pop: '1.4M', tz: 'UTC+3', hub: false },
      { id: 'kayseri_tr', name: "Kayseri", country: "Turkey", flag: 'üáπüá∑', lat: 38.73222, lng: 35.48528, pop: '1.4M', tz: 'UTC+3', hub: false },
      { id: 'izmir_tr', name: "Izmir", country: "Turkey", flag: 'üáπüá∑', lat: 38.41273, lng: 27.13838, pop: '2.9M', tz: 'UTC+3', hub: false },
      { id: 'gaziantep_tr', name: "Gaziantep", country: "Turkey", flag: 'üáπüá∑', lat: 37.05944, lng: 37.3825, pop: '2.1M', tz: 'UTC+3', hub: false },
      { id: 'diyarbakir_tr', name: "Diyarbakir", country: "Turkey", flag: 'üáπüá∑', lat: 37.91363, lng: 40.21721, pop: '1.8M', tz: 'UTC+3', hub: false },
      { id: 'antalya_tr', name: "Antalya", country: "Turkey", flag: 'üáπüá∑', lat: 36.90812, lng: 30.69556, pop: '1.3M', tz: 'UTC+3', hub: false },
      { id: 'ankara_tr', name: "Ankara", country: "Turkey", flag: 'üáπüá∑', lat: 39.91987, lng: 32.85427, pop: '3.5M', tz: 'UTC+3', hub: false },
      { id: 'adana_tr', name: "Adana", country: "Turkey", flag: 'üáπüá∑', lat: 36.98615, lng: 35.32531, pop: '1.8M', tz: 'UTC+3', hub: false },
      { id: 'istanbul_tr', name: "Istanbul", country: "Turkey", flag: 'üáπüá∑', lat: 41.01384, lng: 28.94966, pop: '15.7M', tz: 'UTC+3', hub: false },
      { id: 'bursa_tr', name: "Bursa", country: "Turkey", flag: 'üáπüá∑', lat: 40.19559, lng: 29.06013, pop: '3.1M', tz: 'UTC+3', hub: false },
      { id: 'taipei_tw', name: "Taipei", country: "Taiwan", flag: 'üáπüáº', lat: 25.05306, lng: 121.52639, pop: '7.9M', tz: 'UTC+8', hub: false },
      { id: 'tainan_tw', name: "Tainan", country: "Taiwan", flag: 'üáπüáº', lat: 22.99083, lng: 120.21333, pop: '1.9M', tz: 'UTC+8', hub: false },
      { id: 'taichung_tw', name: "Taichung", country: "Taiwan", flag: 'üáπüáº', lat: 24.1469, lng: 120.6839, pop: '2.9M', tz: 'UTC+8', hub: false },
      { id: 'kaohsiung_tw', name: "Kaohsiung", country: "Taiwan", flag: 'üáπüáº', lat: 22.61626, lng: 120.31333, pop: '2.7M', tz: 'UTC+8', hub: false },
      { id: 'newtaipeicity_tw', name: "New Taipei City", country: "Taiwan", flag: 'üáπüáº', lat: 25.06199, lng: 121.45703, pop: '4M', tz: 'UTC+8', hub: false },
      { id: 'mwanza_tz', name: "Mwanza", country: "Tanzania", flag: 'üáπüáø', lat: -2.51667, lng: 32.9, pop: '1.1M', tz: 'UTC+3', hub: false },
      { id: 'daressalaam_tz', name: "Dar es Salaam", country: "Tanzania", flag: 'üáπüáø', lat: -6.82349, lng: 39.26951, pop: '5.4M', tz: 'UTC+3', hub: false },
      { id: 'odesa_ua', name: "Odesa", country: "Ukraine", flag: 'üá∫üá¶', lat: 46.48572, lng: 30.74383, pop: '1M', tz: 'UTC+2', hub: false },
      { id: 'kyiv_ua', name: "Kyiv", country: "Ukraine", flag: 'üá∫üá¶', lat: 50.45466, lng: 30.5238, pop: '2.8M', tz: 'UTC+2', hub: false },
      { id: 'kharkiv_ua', name: "Kharkiv", country: "Ukraine", flag: 'üá∫üá¶', lat: 49.98177, lng: 36.25475, pop: '1.4M', tz: 'UTC+2', hub: false },
      { id: 'kampala_ug', name: "Kampala", country: "Uganda", flag: 'üá∫üá¨', lat: 0.31628, lng: 32.58219, pop: '1.7M', tz: 'UTC+3', hub: false },
      { id: 'jacksonville_us', name: "Jacksonville", country: "United States", flag: 'üá∫üá∏', lat: 30.33218, lng: -81.65565, pop: '1M', tz: 'UTC-5', hub: false },
      { id: 'philadelphia_us', name: "Philadelphia", country: "United States", flag: 'üá∫üá∏', lat: 39.95238, lng: -75.16362, pop: '1.6M', tz: 'UTC-5', hub: false },
      { id: 'dallas_us', name: "Dallas", country: "United States", flag: 'üá∫üá∏', lat: 32.78306, lng: -96.80667, pop: '1.3M', tz: 'UTC-6', hub: false },
      { id: 'fortworth_us', name: "Fort Worth", country: "United States", flag: 'üá∫üá∏', lat: 32.72541, lng: -97.32085, pop: '1M', tz: 'UTC-6', hub: false },
      { id: 'houston_us', name: "Houston", country: "United States", flag: 'üá∫üá∏', lat: 29.76328, lng: -95.36327, pop: '2.3M', tz: 'UTC-6', hub: false },
      { id: 'sanantonio_us', name: "San Antonio", country: "United States", flag: 'üá∫üá∏', lat: 29.42412, lng: -98.49363, pop: '1.5M', tz: 'UTC-6', hub: false },
      { id: 'chicago_us', name: "Chicago", country: "United States", flag: 'üá∫üá∏', lat: 41.85003, lng: -87.65005, pop: '2.7M', tz: 'UTC-6', hub: false },
      { id: 'thebronx_us', name: "The Bronx", country: "United States", flag: 'üá∫üá∏', lat: 40.84985, lng: -73.86641, pop: '1.4M', tz: 'UTC-5', hub: false },
      { id: 'brooklyn_us', name: "Brooklyn", country: "United States", flag: 'üá∫üá∏', lat: 40.6501, lng: -73.94958, pop: '2.7M', tz: 'UTC-5', hub: false },
      { id: 'manhattan_us', name: "Manhattan", country: "United States", flag: 'üá∫üá∏', lat: 40.78343, lng: -73.96625, pop: '1.5M', tz: 'UTC-5', hub: false },
      { id: 'newyorkcity_us', name: "New York City", country: "United States", flag: 'üá∫üá∏', lat: 40.71427, lng: -74.00597, pop: '8.8M', tz: 'UTC-5', hub: false },
      { id: 'queens_us', name: "Queens", country: "United States", flag: 'üá∫üá∏', lat: 40.68149, lng: -73.83652, pop: '2.3M', tz: 'UTC-5', hub: false },
      { id: 'phoenix_us', name: "Phoenix", country: "United States", flag: 'üá∫üá∏', lat: 33.44838, lng: -112.07404, pop: '1.7M', tz: 'UTC-7', hub: false },
      { id: 'losangeles_us', name: "Los Angeles", country: "United States", flag: 'üá∫üá∏', lat: 34.05223, lng: -118.24368, pop: '3.8M', tz: 'UTC-8', hub: false },
      { id: 'sandiego_us', name: "San Diego", country: "United States", flag: 'üá∫üá∏', lat: 32.71571, lng: -117.16472, pop: '1.4M', tz: 'UTC-8', hub: false },
      { id: 'montevideo_uy', name: "Montevideo", country: "Uruguay", flag: 'üá∫üáæ', lat: -34.90328, lng: -56.18816, pop: '1.3M', tz: 'UTC-3', hub: false },
      { id: 'tashkent_uz', name: "Tashkent", country: "Uzbekistan", flag: 'üá∫üáø', lat: 41.26465, lng: 69.21627, pop: '2M', tz: 'UTC+5', hub: false },
      { id: 'valencia_ve', name: "Valencia", country: "Venezuela", flag: 'üáªüá™', lat: 10.16153, lng: -68.00044, pop: '1.6M', tz: 'UTC-4', hub: false },
      { id: 'maracaibo_ve', name: "Maracaibo", country: "Venezuela", flag: 'üáªüá™', lat: 10.64232, lng: -71.61089, pop: '1.8M', tz: 'UTC-4', hub: false },
      { id: 'caracas_ve', name: "Caracas", country: "Venezuela", flag: 'üáªüá™', lat: 10.48801, lng: -66.87919, pop: '3M', tz: 'UTC-4', hub: false },
      { id: 'barquisimeto_ve', name: "Barquisimeto", country: "Venezuela", flag: 'üáªüá™', lat: 10.0647, lng: -69.35703, pop: '1.2M', tz: 'UTC-4', hub: false },
      { id: 'hochiminhcity_vn', name: "Ho Chi Minh City", country: "Vietnam", flag: 'üáªüá≥', lat: 10.82302, lng: 106.62965, pop: '14M', tz: 'UTC+7', hub: false },
      { id: 'hue_vn', name: "Hue", country: "Vietnam", flag: 'üáªüá≥', lat: 16.4619, lng: 107.59546, pop: '1.4M', tz: 'UTC+7', hub: false },
      { id: 'hanoi_vn', name: "Hanoi", country: "Vietnam", flag: 'üáªüá≥', lat: 21.0245, lng: 105.84117, pop: '8.1M', tz: 'UTC+7', hub: false },
      { id: 'haiphong_vn', name: "Haiphong", country: "Vietnam", flag: 'üáªüá≥', lat: 20.86481, lng: 106.68345, pop: '2.6M', tz: 'UTC+7', hub: false },
      { id: 'danang_vn', name: "Da Nang", country: "Vietnam", flag: 'üáªüá≥', lat: 16.06778, lng: 108.22083, pop: '1.3M', tz: 'UTC+7', hub: false },
      { id: 'cantho_vn', name: "Can Tho", country: "Vietnam", flag: 'üáªüá≥', lat: 10.03711, lng: 105.78825, pop: '1.5M', tz: 'UTC+7', hub: false },
      { id: 'bienhoa_vn', name: "Bien Hoa", country: "Vietnam", flag: 'üáªüá≥', lat: 10.94469, lng: 106.82432, pop: '1.3M', tz: 'UTC+7', hub: false },
      { id: 'sanaa_ye', name: "Sanaa", country: "Yemen", flag: 'üáæüá™', lat: 15.35452, lng: 44.20646, pop: '1.9M', tz: 'UTC+3', hub: false },
      { id: 'aden_ye', name: "Aden", country: "Yemen", flag: 'üáæüá™', lat: 12.77957, lng: 45.03852, pop: '1.1M', tz: 'UTC+3', hub: false },
      { id: 'soweto_za', name: "Soweto", country: "South Africa", flag: 'üáøüá¶', lat: -26.26781, lng: 27.85849, pop: '1.7M', tz: 'UTC+2', hub: false },
      { id: 'pretoria_za', name: "Pretoria", country: "South Africa", flag: 'üáøüá¶', lat: -25.74486, lng: 28.18783, pop: '2.1M', tz: 'UTC+2', hub: false },
      { id: 'gqeberha_za', name: "Gqeberha", country: "South Africa", flag: 'üáøüá¶', lat: -33.96109, lng: 25.61494, pop: '1.1M', tz: 'UTC+2', hub: false },
      { id: 'johannesburg_za', name: "Johannesburg", country: "South Africa", flag: 'üáøüá¶', lat: -26.20227, lng: 28.04363, pop: '9.4M', tz: 'UTC+2', hub: false },
      { id: 'durban_za', name: "Durban", country: "South Africa", flag: 'üáøüá¶', lat: -29.8579, lng: 31.0292, pop: '3.3M', tz: 'UTC+2', hub: false },
      { id: 'capetown_za', name: "Cape Town", country: "South Africa", flag: 'üáøüá¶', lat: -33.92584, lng: 18.42322, pop: '4.8M', tz: 'UTC+2', hub: false },
      { id: 'lusaka_zm', name: "Lusaka", country: "Zambia", flag: 'üáøüá≤', lat: -15.40669, lng: 28.28713, pop: '2.2M', tz: 'UTC+2', hub: false },
      { id: 'harare_zw', name: "Harare", country: "Zimbabwe", flag: 'üáøüáº', lat: -17.82772, lng: 31.05337, pop: '1.5M', tz: 'UTC+2', hub: false }
    ];
    const REGIONS = [
      { label: 'üåè East Asia', ids: ['tokyo', 'osaka', 'kyoto', 'seoul', 'busan', 'beijing', 'shanghai', 'hk', 'taipei', 'chengdu'] },
      { label: 'üå¥ SE Asia', ids: ['bangkok', 'singapore', 'bali', 'hanoi', 'hcmc', 'kl', 'manila'] },
      { label: 'üïå Mid East / S.Asia', ids: ['dubai', 'mumbai', 'delhi', 'istanbul'] },
      { label: 'üá™üá∫ Europe', ids: ['london', 'paris', 'amsterdam', 'berlin', 'barcelona', 'madrid', 'rome', 'lisbon', 'prague', 'vienna', 'copenhagen', 'athens', 'zurich'] },
      { label: 'üåé Americas', ids: ['nyc', 'la', 'sf', 'chicago', 'toronto', 'mexico', 'rio'] },
    ];

    /* ‚ïê‚ïê‚ïê SPOTS DATA ‚ïê‚ïê‚ïê */
    let spots = [];
    try {
      const saved = localStorage.getItem('roam_spots');
      if (saved) spots = JSON.parse(saved);
    } catch (e) { console.error("Could not load spots", e); spots = []; }

    /* ‚ïê‚ïê‚ïê STATE ‚ïê‚ïê‚ïê */
    let activeTab = 'routes', spotFilter = 'All', editingSpotId = null, selectedSpotCat = '';
    // route = [{uid, cityId, date}, ...] ‚Äî uid makes each stop unique even if same city
    let route = [], travelMode = 'plane', savedTrips = [], activeTrip = null, uidCtr = 0;

    try {
      const lsTrips = localStorage.getItem('roam_savedTrips');
      if (lsTrips) savedTrips = JSON.parse(lsTrips);
    } catch (e) { console.error("Could not load trips", e); }

    let tripStartDate = '', tripEndDate = '';

    function saveToLocal() {
      localStorage.setItem('roam_spots', JSON.stringify(spots));
      localStorage.setItem('roam_savedTrips', JSON.stringify(savedTrips));
      if (typeof journalEntries !== 'undefined') localStorage.setItem('roam_journals', JSON.stringify(journalEntries));
    }

    /* ‚ïê‚ïê‚ïê MAP ‚ïê‚ïê‚ïê */
    let map, spotsLayer, cityBaseLayer, routeLayer, routeMarkerLayer, spotMarkers = {};
    const STOP_COLORS = ['#1E7A6E', '#2D7DD2', '#3BAA8C', '#1A6B9E', '#C4552A', '#7A3DAA', '#E07B30', '#2D8C5A', '#AA3D6E', '#3D7AAA'];
    const MODE_COLOR = { plane: '#2D7DD2', train: '#1E7A6E', bus: '#E09A20' };
    const MODE_ICON = { plane: '‚úàÔ∏è', train: 'üöÑ', bus: 'üöå' };
    const MODE_SPEED = { plane: 850, train: 180, bus: 90 };
    const CAT_CLASS = { 'Food & Drink': 'ic-food', 'Views': 'ic-view', 'Study Caf√©': 'ic-cafe', 'Nightlife': 'ic-night', 'Culture': 'ic-cult', 'Nature': 'ic-nat', 'City': 'ic-city' };
    const CAT_COLOR = { 'Food & Drink': '#1E7A6E', 'Views': '#2D7DD2', 'Study Caf√©': '#3BAA8C', 'Culture': '#1A6B9E', 'Nightlife': '#3BAA8C', 'Nature': '#3BAA8C' };
    const CAT_EMOJI = { 'Food & Drink': 'üç¥', 'Views': 'üåÖ', 'Study Caf√©': '‚òï', 'Culture': 'üèõ', 'Nightlife': 'üéµ', 'Nature': 'üåø' };

    function initMap() {
      if (typeof L === 'undefined') {
        toast('Error loading map library. Please check your internet connection.');
        return;
      }
      map = L.map('map', {
        center: [40.71427, -74.00597],
        zoom: 11,
        minZoom: 2.5,
        zoomControl: false,
        maxBounds: [[-90, -180], [90, 180]],
        maxBoundsViscosity: 1.0
      });
      L.tileLayer('https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png', { attribution: '¬© OpenStreetMap ¬© CARTO', maxZoom: 19, subdomains: 'abcd', noWrap: true, bounds: [[-90, -180], [90, 180]] }).addTo(map);
      L.control.zoom({ position: 'bottomright' }).addTo(map);
      cityBaseLayer = L.layerGroup().addTo(map);
      routeLayer = L.layerGroup().addTo(map);
      routeMarkerLayer = L.layerGroup().addTo(map);
      spotsLayer = L.layerGroup().addTo(map);
      CITIES.forEach(c => {
        const sz = c.hub ? 10 : 7;
        const icon = L.divIcon({ className: '', html: `<div class="base-dot-wrap"><div class="base-dot" style="width:${sz}px;height:${sz}px;background:${c.hub ? '#1E7A6E' : '#94BAB7'}"></div>${c.hub ? `<div class="base-lbl">${c.name}</div>` : ''}</div>`, iconSize: [90, 30], iconAnchor: [45, sz / 2], popupAnchor: [0, -10] });
        L.marker([c.lat, c.lng], { icon }).addTo(cityBaseLayer).bindPopup(cityPU(c));
      });
      spots.forEach(s => addSpotM(s));
    }

    function cityPU(c) {
      return `<div class="pu-hd"><div class="pu-flag">${c.flag}</div><div class="pu-name">${c.name}</div><div class="pu-loc">${c.country}</div></div>
  <div class="pu-body"><div class="pu-stat">üë• <strong>${c.pop}</strong></div><div class="pu-stat">üïê <strong>${c.tz}</strong></div></div>
  <div class="pu-foot">
    <button class="pu-btn pu-s" onclick="switchTab('routes')">‚úàÔ∏è Routes</button>
    <button class="pu-btn pu-p" onclick="addCityStop('${c.id}');document.querySelector('.leaflet-popup-close-button')?.click()">Ôºã Add stop</button>
  </div>`;
    }

    function addSpotM(s) {
      const icon = L.divIcon({ className: '', html: `<div class="spot-pw"><div class="spot-pd" style="background:${s.color}"><div class="spot-pi">${s.emoji}</div></div><div class="spot-pl">${s.name}</div></div>`, iconSize: [120, 50], iconAnchor: [60, 44], popupAnchor: [0, -46] });
      const stars = '‚òÖ'.repeat(Math.floor(s.rating)) + (s.rating % 1 >= .5 ? '¬Ω' : '');
      const tagsHtml = s.tags.map(t => `<span class="pu-tag">${t}</span>`).join('');
      const m = L.marker([s.lat, s.lng], { icon }).addTo(spotsLayer).bindPopup(
        `<div class="pu-hd"><div class="pu-cat">${s.cat}</div><div class="pu-name">${s.name}</div><div class="pu-loc">üìç ${s.city}, ${s.country}</div></div>
    <div class="pu-body"><div><span class="pu-stars">${stars}</span> <strong style="font-size:11px">${s.rating}</strong></div><div class="pu-note">${s.note}</div><div class="pu-tags">${tagsHtml}</div></div>
    <div class="pu-foot">
      <button class="pu-btn pu-d" onclick="deleteSpot(${s.id});document.querySelector('.leaflet-popup-close-button')?.click()">üóë</button>
      <button class="pu-btn pu-s" onclick="openEditSpot(${s.id});document.querySelector('.leaflet-popup-close-button')?.click()">‚úèÔ∏è Edit</button>
      <button class="pu-btn pu-p" onclick="document.querySelector('.leaflet-popup-close-button')?.click()">Close</button>
    </div>`, { maxWidth: 260 }
      );
      spotMarkers[s.id] = m;
    }
    function removeSpotM(id) { if (spotMarkers[id]) { spotsLayer.removeLayer(spotMarkers[id]); delete spotMarkers[id]; } }

    /* ‚ïê‚ïê‚ïê TABS ‚ïê‚ïê‚ïê */
    function switchTab(tab) {
      activeTab = tab;
      ['spots', 'routes', 'journal'].forEach(t => {
        document.getElementById(`tab-${t}`).classList.toggle('active', t === tab);
        document.getElementById(`panel-${t}`).classList.toggle('visible', t === tab);
      });
      const btn = document.getElementById('navAddBtn');
      if (tab === 'spots') { btn.style.display = 'flex'; btn.textContent = 'Ôºã Add Spot'; btn.onclick = openSpotModal; }
      else if (tab === 'journal') { btn.style.display = 'flex'; btn.textContent = 'Ôºã New Entry'; btn.onclick = openJModal; }
      else { btn.style.display = 'none'; }
      if (tab === 'routes') renderRouteOnMap();
      else { routeLayer?.clearLayers(); routeMarkerLayer?.clearLayers(); }
      if (tab === 'journal') renderJournal();
    }

    /* ‚ïê‚ïê‚ïê SPOTS ‚ïê‚ïê‚ïê */
    function setFilter(cat, btn) { spotFilter = cat; document.querySelectorAll('.fc').forEach(c => c.classList.remove('on')); btn.classList.add('on'); renderSpots(); }

    function renderSpots() {
      const q = (document.getElementById('spotSearch').value || '').toLowerCase();
      const uniqueIds = [...new Set(route.map(r => r.cityId))];
      const citySpots = uniqueIds.map(id => { const c = CITIES.find(x => x.id === id); return c ? { id: 'city_' + id, name: c.name, city: c.name, country: c.country, cat: 'City', emoji: c.flag, rating: null, tags: ['City'], _city: true } : null; }).filter(Boolean);
      const all = [...spots, ...citySpots];
      const filtered = all.filter(s => {
        const mc = spotFilter === 'All' || s.cat === spotFilter;
        const mq = !q || s.name.toLowerCase().includes(q) || (s.city || '').toLowerCase().includes(q);
        return mc && mq;
      });
      document.getElementById('spotsCount').innerHTML = `<strong>${filtered.length}</strong> spots`;
      document.getElementById('cityCount').textContent = `üìç ${new Set(spots.map(s => s.city)).size} cities`;
      document.getElementById('spotsScroll').innerHTML = filtered.length === 0
        ? '<div class="empty-msg">No spots match.</div>'
        : filtered.map(s => `
      <div class="spot-row" id="srow-${s.id}" onclick="focusOnMap('${s.id}','${s._city ? 'city' : 'spot'}')">
        <div class="spot-icon ${CAT_CLASS[s.cat] || 'ic-food'}">${s.emoji}</div>
        <div class="spot-info">
          <div class="spot-top">
            <div class="spot-nm">${s.name}</div>
            ${s.rating ? `<div class="spot-badge">‚òÖ ${s.rating}</div>` : `<div class="spot-badge" style="background:rgba(224,154,32,.12);color:#A07010">City</div>`}
          </div>
          <div class="spot-sub">${s.city}${s.country && s.city !== s.country ? ', ' + s.country : ''}</div>
          <div class="spot-pills">${s.tags.map(t => `<span class="spot-pill">${t}</span>`).join('')}</div>
        </div>
        ${!s._city ? `<div class="sact">
          <button class="sact-btn" onclick="event.stopPropagation();openEditSpot(${s.id})" title="Edit">‚úèÔ∏è</button>
          <button class="sact-btn del" onclick="event.stopPropagation();deleteSpot(${s.id})" title="Delete">üóë</button>
        </div>`: ''}
      </div>`).join('');
    }

    function focusOnMap(id, kind) {
      document.querySelectorAll('.spot-row').forEach(el => el.classList.remove('lit'));
      document.getElementById(`srow-${id}`)?.classList.add('lit');
      if (kind === 'city') { const c = CITIES.find(x => x.id === id.replace('city_', '')); if (c) map.flyTo([c.lat, c.lng], 10, { duration: .9 }); }
      else { const s = spots.find(x => x.id == id); if (!s) return; map.flyTo([s.lat, s.lng], 15, { duration: .9 }); setTimeout(() => spotMarkers[s.id]?.openPopup(), 1000); }
    }

    function deleteSpot(id) {
      if (!confirm('Delete this spot?')) return;
      spots = spots.filter(s => s.id !== id);
      saveToLocal();
      removeSpotM(id); renderSpots(); toast('Spot deleted');
    }

    /* ‚ïê‚ïê‚ïê SPOT MODAL ‚ïê‚ïê‚ïê */
    function openSpotModal() {
      editingSpotId = null; selectedSpotCat = '';
      document.getElementById('smTitle').textContent = 'Pin a spot üìç';
      document.getElementById('smSub').textContent = 'Save a place to your personal map';
      document.getElementById('smBtn').textContent = 'Save to map ‚Üí';
      document.getElementById('smBtn').className = 'sub-btn';
      ['sName', 'sCity', 'sCountry', 'sTags', 'sNote'].forEach(id => document.getElementById(id).value = '');
      document.getElementById('sRating').value = '5';
      document.querySelectorAll('.cat-opt').forEach(b => b.classList.remove('sel'));
      document.getElementById('spotOverlay').classList.add('open');
    }
    function openEditSpot(id) {
      const s = spots.find(x => x.id === id); if (!s) return;
      editingSpotId = id; selectedSpotCat = s.cat;
      document.getElementById('smTitle').textContent = 'Edit spot ‚úèÔ∏è';
      document.getElementById('smSub').textContent = 'Update your saved place';
      document.getElementById('smBtn').textContent = 'Update spot ‚Üí';
      document.getElementById('smBtn').className = 'sub-btn blue';
      document.getElementById('sName').value = s.name;
      document.getElementById('sCity').value = s.city;
      document.getElementById('sCountry').value = s.country;
      document.getElementById('sRating').value = s.rating;
      document.getElementById('sTags').value = s.tags.join(', ');
      document.getElementById('sNote').value = s.note;
      document.querySelectorAll('.cat-opt').forEach(b => b.classList.toggle('sel', b.textContent.replace(/[üç¥‚òïüåÖüèõüéµüåø]/, '').trim() === s.cat.replace(/[üç¥‚òïüåÖüèõüéµüåø]/, '').trim()));
      document.getElementById('spotOverlay').classList.add('open');
    }
    function closeSpotModal() { document.getElementById('spotOverlay').classList.remove('open'); }
    function pickCat(btn, cat) { document.querySelectorAll('.cat-opt').forEach(b => b.classList.remove('sel')); btn.classList.add('sel'); selectedSpotCat = cat; }
    function submitSpot() {
      const name = document.getElementById('sName').value.trim();
      const city = document.getElementById('sCity').value.trim();
      const country = document.getElementById('sCountry').value.trim();
      const rating = parseFloat(document.getElementById('sRating').value);
      const note = document.getElementById('sNote').value.trim();
      const tags = document.getElementById('sTags').value.trim().split(',').map(t => t.trim()).filter(Boolean);
      if (!name || !city) { toast('Please fill in name & city!'); return; }
      const cat = selectedSpotCat || 'Food & Drink';
      if (editingSpotId !== null) {
        const s = spots.find(x => x.id === editingSpotId);
        if (s) { Object.assign(s, { name, city, country, cat, emoji: CAT_EMOJI[cat] || 'üìç', color: CAT_COLOR[cat] || '#1E7A6E', rating, note: note || 'No notes yet.', tags: tags.length ? tags : [cat] }); removeSpotM(s.id); addSpotM(s); }
        toast(`‚úÖ ${name} updated!`);
      } else {
        const known = CITIES.find(c => c.name.toLowerCase() === city.toLowerCase());
        const bLat = known ? known.lat : 41.39 + (Math.random() - .5) * .04;
        const bLng = known ? known.lng : 2.17 + (Math.random() - .5) * .06;
        const j = () => (Math.random() - .5) * .04;
        const s = { id: Date.now(), name, city, country, lat: bLat + j(), lng: bLng + j(), cat, emoji: CAT_EMOJI[cat] || 'üìç', rating, note: note || 'No notes yet.', tags: tags.length ? tags : [cat], color: CAT_COLOR[cat] || '#1E7A6E' };
        spots.unshift(s); addSpotM(s);
        map.flyTo([s.lat, s.lng], 14, { duration: .9 });
        setTimeout(() => spotMarkers[s.id]?.openPopup(), 1000);
        toast(`üìç ${name} added!`);
      }
      saveToLocal();
      renderSpots(); closeSpotModal();
    }

    /* ‚ïê‚ïê‚ïê ROUTES ‚ïê‚ïê‚ïê */
    function haversine(a, b) { const R = 6371, dLat = (b.lat - a.lat) * Math.PI / 180, dLng = (b.lng - a.lng) * Math.PI / 180, x = Math.sin(dLat / 2) ** 2 + Math.cos(a.lat * Math.PI / 180) * Math.cos(b.lat * Math.PI / 180) * Math.sin(dLng / 2) ** 2; return R * 2 * Math.atan2(Math.sqrt(x), Math.sqrt(1 - x)); }
    function fmtKm(km) { return km >= 1000 ? (km / 1000).toFixed(1) + 'k' : Math.round(km) + ''; }
    function fmtTime(km) { const h = km / MODE_SPEED[travelMode]; return h < 1 ? Math.round(h * 60) + 'm' : h < 10 ? h.toFixed(1) + 'h' : Math.round(h) + 'h'; }
    function formatDate(d) { if (!d) return ''; const dt = new Date(d + 'T00:00:00'); return dt.toLocaleDateString('en-GB', { day: 'numeric', month: 'short', year: 'numeric' }); }
    function cityObj(id) { return CITIES.find(c => c.id === id); }

    function setMode(m) {
      travelMode = m;
      ['plane', 'train', 'bus'].forEach(k => document.getElementById('m' + k).className = `mode-btn${m === k ? ' m' + k[0] : ''}`);
      renderRouteOnMap(); renderRouteStops();
    }

    // Add city stop ‚Äî ALWAYS allowed, same city can appear multiple times
    function addCityStop(cityId) {
      route.push({ uid: ++uidCtr, cityId });
      renderRouteStops(); renderRouteOnMap(); buildPicker(); renderSpots();
      const c = cityObj(cityId);
      toast(`${c.flag} ${c.name} added!`);
      if (activeTab === 'routes') map.flyTo([c.lat, c.lng], 5, { duration: .8 });
      if (activeTrip !== null) { activeTrip = null; renderTripsBar(); }
    }

    function removeStop(uid) {
      route = route.filter(r => r.uid !== uid);
      renderRouteStops(); renderRouteOnMap(); buildPicker(); renderSpots();
      if (activeTrip !== null) { activeTrip = null; renderTripsBar(); }
    }

    function clearRoute() {
      route = []; activeTrip = null; tripStartDate = ''; tripEndDate = '';
      document.getElementById('rtTitle').textContent = 'New Route';
      try { document.getElementById('tripStartDate').value = ''; document.getElementById('tripEndDate').value = ''; } catch (e) { }
      renderRouteStops(); renderRouteOnMap(); buildPicker(); renderSpots(); renderTripsBar();
      toast('Route cleared');
    }

    function renderRouteStops() {
      const bar = document.getElementById('rtStats');
      const el = document.getElementById('routeScroll');
      if (route.length === 0) { bar.style.display = 'none'; el.innerHTML = `<div class="empty-msg">No cities yet. Search above or pick below.<br><span style="font-size:11px;opacity:.7">üí° Same city can appear multiple times for round trips</span></div>`; return; }
      let total = 0;
      for (let i = 0; i < route.length - 1; i++) { const a = cityObj(route[i].cityId), b = cityObj(route[i + 1].cityId); if (a && b) total += haversine(a, b); }
      bar.style.display = 'flex';
      document.getElementById('rs-c').textContent = route.length;
      document.getElementById('rs-k').textContent = fmtKm(total);
      // show trip duration in days if start+end set, otherwise est travel time
      const sd = document.getElementById('tripStartDate')?.value;
      const ed = document.getElementById('tripEndDate')?.value;
      if (sd && ed) { const days = Math.round((new Date(ed) - new Date(sd)) / (1000 * 60 * 60 * 24)); document.getElementById('rs-t').textContent = days + 'd'; }
      else { document.getElementById('rs-t').textContent = total ? fmtTime(total) : '‚Äî'; }
      let html = '';
      route.forEach((stop, idx) => {
        const c = cityObj(stop.cityId); if (!c) return;
        const bg = STOP_COLORS[idx % STOP_COLORS.length];
        const isLast = idx === route.length - 1;
        if (idx > 0) {
          const prev = cityObj(route[idx - 1].cityId); const dist = Math.round(haversine(prev, c));
          html += `<div class="leg-i"><span>${MODE_ICON[travelMode]}</span>${dist.toLocaleString()} km ¬∑ ${fmtTime(dist)}</div>`;
        }
        html += `<div class="si">
      ${!isLast ? `<div class="sln" style="background:${MODE_COLOR[travelMode]}"></div>` : ''}
      <div class="snum" style="background:${bg}">${idx + 1}</div>
      <div class="stxt">
        <div class="scn">${c.flag} ${c.name}</div>
        <div class="scc">${c.country}</div>
        <div class="stop-date"><span class="stop-date-lbl">arrive</span><input type="date" value="${stop.date || ''}" onchange="setStopDate(${stop.uid},this.value)" title="Arrival date (optional)" placeholder="add date"></div>
      </div>
      <button class="sdel" onclick="removeStop(${stop.uid})">‚úï</button>
    </div>`;
      });
      el.innerHTML = html;
    }

    function setStopDate(uid, val) { const s = route.find(r => r.uid === uid); if (s) s.date = val; }

    function onTripDateChange() {
      tripStartDate = document.getElementById('tripStartDate').value;
      tripEndDate = document.getElementById('tripEndDate').value;
      // update trip title display if we have dates
      if (tripStartDate || tripEndDate) {
        const fmt = d => { if (!d) return '?'; const dt = new Date(d + 'T00:00:00'); return dt.toLocaleDateString('en-GB', { day: 'numeric', month: 'short' }); };
        const cur = document.getElementById('rtTitle').textContent;
        // only append if no date already shown
      }
    }

    function greatCircleArc(from, to, steps = 80) {
      const pts = [], dist = haversine({ lat: from[0], lng: from[1] }, { lat: to[0], lng: to[1] });
      for (let i = 0; i <= steps; i++) { const t = i / steps; pts.push([from[0] + (to[0] - from[0]) * t + (dist > 300 ? Math.sin(t * Math.PI) * (dist / 9000) : 0), from[1] + (to[1] - from[1]) * t]); }
      return pts;
    }

    function animateMover(pts, legIdx) {
      let idx = 0;
      const icon = L.divIcon({ className: '', html: `<div style="font-size:${travelMode === 'plane' ? 16 : 14}px;filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))">${MODE_ICON[travelMode]}</div>`, iconSize: [20, 20], iconAnchor: [10, 10] });
      const mover = L.marker(pts[0], { icon, zIndexOffset: 600, interactive: false }).addTo(routeLayer);
      const spd = travelMode === 'plane' ? 32 : travelMode === 'train' ? 20 : 11;
      function step() { if (idx >= pts.length) idx = 0; mover.setLatLng(pts[idx]); idx += 2; setTimeout(step, spd); }
      setTimeout(step, legIdx * 650);
    }

    function renderRouteOnMap() {
      if (activeTab !== 'routes') return;
      routeLayer?.clearLayers(); routeMarkerLayer?.clearLayers();
      if (route.length === 0) return;
      const color = MODE_COLOR[travelMode];
      for (let i = 0; i < route.length - 1; i++) {
        const a = cityObj(route[i].cityId), b = cityObj(route[i + 1].cityId); if (!a || !b) continue;
        const dist = haversine(a, b); const arc = greatCircleArc([a.lat, a.lng], [b.lat, b.lng]);
        L.polyline(arc, { color, weight: 8, opacity: .06, lineCap: 'round' }).addTo(routeLayer);
        L.polyline(arc, { color, weight: travelMode === 'plane' ? 2.5 : 3, opacity: .85, dashArray: travelMode === 'plane' ? '8 5' : travelMode === 'train' ? '14 4' : '4 7', lineCap: 'round' }).addTo(routeLayer);
        const mid = arc[Math.floor(arc.length / 2)];
        L.marker(mid, { icon: L.divIcon({ className: '', html: `<div class="arc-lbl">${MODE_ICON[travelMode]} <strong>${fmtKm(dist)} km</strong> ¬∑ ${fmtTime(dist)}</div>`, iconSize: [150, 24], iconAnchor: [75, 12] }), interactive: false }).addTo(routeLayer);
        animateMover(arc, i);
      }
      route.forEach((stop, idx) => {
        const c = cityObj(stop.cityId); if (!c) return;
        const bg = STOP_COLORS[idx % STOP_COLORS.length];
        L.marker([c.lat, c.lng], { icon: L.divIcon({ className: '', html: `<div class="rnum-wrap"><div class="rnum-dot" style="background:${bg}">${idx + 1}</div><div class="rnum-lbl">${c.flag} ${c.name}</div></div>`, iconSize: [100, 40], iconAnchor: [50, 12], popupAnchor: [0, -14] }) }).addTo(routeMarkerLayer).bindPopup(cityPU(c));
      });
    }

    function fitRoute() { if (route.length === 0) { toast('Add some cities first!'); return; } map.fitBounds(L.latLngBounds(route.map(r => { const c = cityObj(r.cityId); return [c.lat, c.lng]; })), { padding: [60, 60], maxZoom: 8 }); }

    /* ‚ïê‚ïê‚ïê SAVED TRIPS ‚ïê‚ïê‚ïê */
    function renderTripsBar() {
      const bar = document.getElementById('tripsBar');
      let html = `<button class="tnew" onclick="newBlankRoute()">Ôºã New</button>`;
      savedTrips.forEach(t => {
        html += `<div class="tchip${activeTrip === t.id ? ' cur' : ''}" onclick="loadTrip(${t.id})">${t.emoji} ${t.name} <span class="tchip-x" onclick="deleteTrip(${t.id},event)">‚úï</span></div>`;
      });
      bar.innerHTML = html;
    }
    function openSaveModal() {
      if (route.length < 2) { toast('Add at least 2 cities!'); return; }
      document.getElementById('rName').value = ''; document.getElementById('rEmoji').value = '‚úàÔ∏è';
      document.getElementById('saveOverlay').classList.add('open');
      setTimeout(() => document.getElementById('rName').focus(), 100);
    }
    function closeSaveModal() { document.getElementById('saveOverlay').classList.remove('open'); }
    function saveRoute() {
      const name = document.getElementById('rName').value.trim();
      if (!name) { toast('Give the route a name!'); return; }
      const emoji = document.getElementById('rEmoji').value.trim() || '‚úàÔ∏è';
      const id = Date.now();
      savedTrips.push({ id, name, emoji, route: [...route.map(r => ({ ...r }))], mode: travelMode });
      activeTrip = id;
      renderTripsBar(); closeSaveModal();
      toast(`üíæ "${name}" saved!`);
    }
    function loadTrip(id) {
      const t = savedTrips.find(x => x.id === id); if (!t) return;
      route = [...t.route.map(r => ({ ...r }))]; travelMode = t.mode; activeTrip = id;
      document.getElementById('rtTitle').textContent = `${t.emoji} ${t.name}`;
      setMode(t.mode); renderRouteStops(); renderRouteOnMap(); buildPicker(); renderSpotsIfOnSpots(); renderTripsBar();
      toast(`Loaded: ${t.emoji} ${t.name}`);
      setTimeout(fitRoute, 400);
    }
    function newBlankRoute() {
      route = []; activeTrip = null;
      document.getElementById('rtTitle').textContent = 'New Route';
      renderRouteStops(); renderRouteOnMap(); buildPicker(); renderSpotsIfOnSpots(); renderTripsBar();
    }
    function deleteTrip(id, e) {
      e.stopPropagation();
      const t = savedTrips.find(x => x.id === id);
      if (!confirm(`Delete "${t?.name}"?`)) return;
      savedTrips = savedTrips.filter(x => x.id !== id);
      saveToLocal();
      if (activeTrip === id) newBlankRoute(); else renderTripsBar();
      toast('Trip deleted');
    }
    function renderSpotsIfOnSpots() { if (activeTab === 'spots') renderSpots(); }

    /* ‚ïê‚ïê‚ïê CITY PICKER ‚ïê‚ïê‚ïê */
    function buildPicker() {
      const el = document.getElementById('regionArea');
      let html = '';
      REGIONS.forEach(r => {
        html += `<div class="rhdr">${r.label}</div><div class="chips-grid">`;
        r.ids.forEach(id => {
          const c = CITIES.find(x => x.id === id); if (!c) return;
          const count = route.filter(r => r.cityId === id).length;
          const added = count > 0;
          html += `<div class="city-chip${added ? ' added' : ''}" onclick="addCityStop('${id}')">
        <span class="ccf">${c.flag}</span>
        <div><div class="ccn">${c.name}</div><div class="ccc">${c.country}</div></div>
        ${added ? `<span class="cck">${count > 1 ? count + '√ó' : '‚úì'}</span>` : ''}
      </div>`;
        });
        html += '</div>';
      });
      el.innerHTML = html;
    }

    /* ‚ïê‚ïê‚ïê CITY SEARCH ‚ïê‚ïê‚ïê */
    function onCitySearch() {
      const q = (document.getElementById('citySearchInput').value || '').toLowerCase().trim();
      const dd = document.getElementById('cddEl');
      if (q.length < 1) { dd.classList.remove('open'); return; }
      const res = CITIES.filter(c => c.name.toLowerCase().includes(q) || c.country.toLowerCase().includes(q)).slice(0, 8);
      if (!res.length) { dd.classList.remove('open'); return; }
      dd.innerHTML = res.map(c => { const count = route.filter(r => r.cityId === c.id).length; return `<div class="cdd-item" onclick="addCityStop('${c.id}');closeCDD()"><span style="font-size:16px">${c.flag}</span><div><div class="cdi-n">${c.name}</div><div class="cdi-c">${c.country}</div></div>${count > 0 ? `<span style="color:var(--teal);font-size:10px;font-weight:700;margin-left:auto">${count > 1 ? count + '√ó added' : '‚úì Added'}</span>` : ''}</div>`; }).join('');
      dd.classList.add('open');
    }
    function closeCDD() { document.getElementById('cddEl').classList.remove('open'); document.getElementById('citySearchInput').value = ''; }
    document.addEventListener('click', e => { if (!e.target.closest('.csw')) closeCDD(); });

    /* ‚ïê‚ïê‚ïê JOURNAL ‚ïê‚ïê‚ïê */
    const JTYPE_ICON = { 'Restaurant': 'üçΩ', 'Bar': 'üç∫', 'Club': 'üéß', 'Sightseeing': 'üèõ', 'Nature': 'üåø', 'Caf√©': '‚òï', 'Market': 'üõç', 'Transport': '‚úàÔ∏è', 'Other': 'üìå' };
    const JTYPE_COLOR = { 'Restaurant': 'rgba(30,122,110,.12)', 'Bar': 'rgba(224,154,32,.12)', 'Club': 'rgba(45,125,210,.12)', 'Sightseeing': 'rgba(13,43,42,.08)', 'Nature': 'rgba(59,170,140,.15)', 'Caf√©': 'rgba(59,170,140,.12)', 'Market': 'rgba(192,120,50,.12)', 'Transport': 'rgba(45,125,210,.12)', 'Other': 'rgba(13,43,42,.08)' };

    let journalEntries = [];
    try {
      const saved = localStorage.getItem('roam_journals');
      if (saved) journalEntries = JSON.parse(saved);
    } catch (e) { console.error("Could not load journals", e); journalEntries = []; }
    let jFilter = 'All', jSort = 'date', editingJId = null, currentJDetailId = null, selectedJType = '', selectedMood = '';

    function setJFilter(cat, btn) {
      jFilter = cat;
      document.querySelectorAll('#jFilterStrip .fc').forEach(c => c.classList.remove('on'));
      btn.classList.add('on');
      renderJournal();
    }

    function setJSort(s, btn) {
      jSort = s;
      document.querySelectorAll('.jsort-btn').forEach(b => b.classList.remove('on'));
      btn.classList.add('on');
      renderJournal();
    }

    const JTYPE_ACCENT = { 'Restaurant': '#1E7A6E', 'Bar': '#E09A20', 'Club': '#2D7DD2', 'Sightseeing': '#1A6B9E', 'Nature': '#3BAA8C', 'Caf√©': '#3BAA8C', 'Market': '#C0783A', 'Transport': '#2D7DD2', 'Other': '#94BAB7' };

    function renderJournal() {
      const q = (document.getElementById('jSearch').value || '').toLowerCase();
      let filtered = journalEntries.filter(e => {
        const mf = jFilter === 'All' || e.type === jFilter;
        const mq = !q || e.title.toLowerCase().includes(q) || e.city.toLowerCase().includes(q) || e.note.toLowerCase().includes(q);
        return mf && mq;
      });

      // sort
      if (jSort === 'date') filtered.sort((a, b) => (b.date || '0').localeCompare(a.date || '0'));
      else if (jSort === 'rating') filtered.sort((a, b) => b.rating - a.rating);
      else if (jSort === 'city') filtered.sort((a, b) => a.city.localeCompare(b.city));

      document.getElementById('jCount').innerHTML = `<strong>${filtered.length}</strong> entr${filtered.length === 1 ? 'y' : 'ies'}`;

      if (filtered.length === 0) {
        document.getElementById('jScroll').innerHTML = `<div style="padding:24px 10px;text-align:center"><div style="font-size:44px;margin-bottom:10px">üìì</div><div style="font-family:'Fraunces',serif;font-size:16px;font-weight:900;color:var(--deep);margin-bottom:6px">No entries yet</div><div style="font-size:12px;color:var(--muted);line-height:1.6">Start capturing your study abroad moments ‚Äî<br>every meal, every late night, every view.</div></div>`;
        return;
      }

      document.getElementById('jScroll').innerHTML = filtered.map(e => {
        const stars = '‚òÖ'.repeat(Math.floor(e.rating)) + (e.rating % 1 >= .5 ? '¬Ω' : '');
        const bg = JTYPE_COLOR[e.type] || 'rgba(13,43,42,.08)';
        const accent = JTYPE_ACCENT[e.type] || '#94BAB7';
        const icon = JTYPE_ICON[e.type] || 'üìå';
        return `<div class="jcard" onclick="openJDetail(${e.id})">
      <div class="jcard-accent" style="background:${accent}"></div>
      <div class="jcard-inner">
        <div class="jcard-top">
          <div class="jcard-icon" style="background:${bg}">${icon}</div>
          <div class="jcard-meta">
            <div class="jcard-title">${e.title}</div>
            <div class="jcard-where">
              <span>üìç ${e.city}</span>
              ${e.date ? `<span class="jcard-where-dot"></span><span style="color:var(--teal);font-weight:600">${formatDate(e.date)}</span>` : ''}
              ${e.mood ? `<span class="jcard-where-dot"></span><span>${e.mood}</span>` : ''}
            </div>
          </div>
        </div>
        <div class="jcard-body">${e.note}</div>
        <div class="jcard-bottom">
          <div class="jcard-tags">
            <span class="jcard-tag jtag-type">${e.type}</span>
            ${(e.customTags || []).slice(0, 3).map(t => `<span class="jcard-tag jtag-custom">${t}</span>`).join('')}
          </div>
          <div class="jcard-stars">${stars} <span style="color:var(--muted);font-size:10px">${e.rating}</span></div>
        </div>
      </div>
      <div class="jcard-acts" onclick="event.stopPropagation()">
        <button class="sact-btn" onclick="editJEntry(${e.id})" title="Edit">‚úèÔ∏è</button>
        <button class="sact-btn del" onclick="deleteJEntry(${e.id})" title="Delete">üóë</button>
      </div>
    </div>`;
      }).join('');
    }

    function openJModal(prefillCity) {
      editingJId = null; selectedJType = ''; selectedMood = '';
      document.getElementById('jModalTitle').textContent = 'New entry üìì';
      document.getElementById('jModalSub').textContent = 'Capture a moment from your travels';
      document.getElementById('jSubmitBtn').textContent = 'Save entry ‚Üí';
      document.getElementById('jTitle').value = '';
      document.getElementById('jCity').value = prefillCity || '';
      document.getElementById('jDate').value = new Date().toISOString().slice(0, 10);
      document.getElementById('jRating').value = '5';
      document.getElementById('jTags').value = '';
      document.getElementById('jNote').value = '';
      document.querySelectorAll('.jtype-opt').forEach(b => b.classList.remove('sel'));
      document.querySelectorAll('.mood-opt').forEach(b => b.classList.remove('sel'));
      document.getElementById('jOverlay').classList.add('open');
    }
    function closeJModal() { document.getElementById('jOverlay').classList.remove('open'); }

    function pickJType(btn, type) {
      document.querySelectorAll('.jtype-opt').forEach(b => b.classList.remove('sel'));
      btn.classList.add('sel'); selectedJType = type;
    }
    function pickMood(btn, mood) {
      document.querySelectorAll('.mood-opt').forEach(b => b.classList.remove('sel'));
      btn.classList.add('sel'); selectedMood = mood;
    }

    function submitJEntry() {
      const title = document.getElementById('jTitle').value.trim();
      const city = document.getElementById('jCity').value.trim();
      const date = document.getElementById('jDate').value;
      const note = document.getElementById('jNote').value.trim();
      const rating = parseFloat(document.getElementById('jRating').value);
      const tagsRaw = document.getElementById('jTags').value.trim();
      if (!title || !city) { toast('Please fill in title & city!'); return; }
      const type = selectedJType || 'Other';
      const customTags = tagsRaw ? tagsRaw.split(',').map(t => t.trim()).filter(Boolean) : [];

      if (editingJId !== null) {
        const e = journalEntries.find(x => x.id === editingJId);
        if (e) Object.assign(e, { title, city, date, type, mood: selectedMood, rating, note: note || '', customTags, tags: [type, ...customTags] });
        toast('üìì Entry updated!');
      } else {
        journalEntries.unshift({ id: Date.now(), title, city, date, type, mood: selectedMood, rating, note: note || '', customTags, tags: [type, ...customTags] });
        toast('üìì Entry saved!');
      }
      saveToLocal();
      closeJModal(); renderJournal();
    }

    function editJEntry(id) {
      const e = journalEntries.find(x => x.id === id); if (!e) return;
      closeJDetail();
      editingJId = id; selectedJType = e.type; selectedMood = e.mood || '';
      document.getElementById('jModalTitle').textContent = 'Edit entry ‚úèÔ∏è';
      document.getElementById('jModalSub').textContent = 'Update your memory';
      document.getElementById('jSubmitBtn').textContent = 'Update entry ‚Üí';
      document.getElementById('jTitle').value = e.title;
      document.getElementById('jCity').value = e.city;
      document.getElementById('jDate').value = e.date || '';
      document.getElementById('jRating').value = e.rating;
      document.getElementById('jTags').value = (e.customTags || []).join(', ');
      document.getElementById('jNote').value = e.note;
      document.querySelectorAll('.jtype-opt').forEach(b => b.classList.toggle('sel', b.textContent.trim().includes(e.type)));
      document.querySelectorAll('.mood-opt').forEach(b => b.classList.toggle('sel', b.textContent.trim() === e.mood));
      document.getElementById('jOverlay').classList.add('open');
    }

    function deleteJEntry(id) {
      if (!confirm('Delete this journal entry?')) return;
      journalEntries = journalEntries.filter(x => x.id !== id);
      saveToLocal();
      closeJDetail(); renderJournal(); toast('Entry deleted');
    }

    function openJDetail(id) {
      const e = journalEntries.find(x => x.id === id); if (!e) return;
      currentJDetailId = id;
      const icon = JTYPE_ICON[e.type] || 'üìå';
      const bg = JTYPE_COLOR[e.type] || 'rgba(13,43,42,.08)';
      const jdIcon = document.getElementById('jd-icon');
      jdIcon.textContent = icon;
      jdIcon.style.background = bg;
      document.getElementById('jd-title').textContent = e.title;
      document.getElementById('jd-where').textContent = `üìç ${e.city}${e.date ? ' ¬∑ ' + formatDate(e.date) : ''}`;
      const stars = '‚òÖ'.repeat(Math.floor(e.rating)) + (e.rating % 1 >= .5 ? '¬Ω' : '');
      document.getElementById('jd-toprow').innerHTML =
        `<span style="color:#F5A623;font-size:15px">${stars}</span>` +
        `<strong style="font-size:12px;color:var(--deep)">${e.rating}</strong>` +
        (e.mood ? `<span style="background:rgba(45,125,210,.1);color:var(--blue);padding:2px 9px;border-radius:100px;font-size:11px;font-weight:600">${e.mood}</span>` : '') +
        `<span style="background:var(--sand);padding:2px 10px;border-radius:100px;font-size:11px;font-weight:600;color:var(--teal)">${e.type}</span>`;
      document.getElementById('jd-note').textContent = e.note || 'No notes written.';
      document.getElementById('jd-tags').innerHTML = (e.customTags || []).map(t => `<span class="jcard-tag jtag-custom">${t}</span>`).join('');
      document.getElementById('jDetailOverlay').classList.add('open');
    }
    function closeJDetail() { document.getElementById('jDetailOverlay').classList.remove('open'); currentJDetailId = null; }

    /* ‚ïê‚ïê‚ïê TOAST ‚ïê‚ïê‚ïê */
    function toast(msg) { const el = document.getElementById('toastEl'); el.textContent = msg; el.classList.add('show'); clearTimeout(el._t); el._t = setTimeout(() => el.classList.remove('show'), 2500); }

    /* ‚ïê‚ïê‚ïê BOOT ‚ïê‚ïê‚ïê */
    window.addEventListener('load', () => {
      initMap(); buildPicker(); renderTripsBar(); renderSpots(); renderRouteStops(); renderJournal();
      // Demo saved trips
      if (!localStorage.getItem('roam_savedTrips')) {
        const t1 = [{ uid: ++uidCtr, cityId: 'shanghai' }, { uid: ++uidCtr, cityId: 'beijing' }, { uid: ++uidCtr, cityId: 'seoul' }, { uid: ++uidCtr, cityId: 'tokyo' }];
        const t2 = [{ uid: ++uidCtr, cityId: 'madrid' }, { uid: ++uidCtr, cityId: 'paris' }, { uid: ++uidCtr, cityId: 'amsterdam' }, { uid: ++uidCtr, cityId: 'berlin' }, { uid: ++uidCtr, cityId: 'madrid' }];
        const t3 = [{ uid: ++uidCtr, cityId: 'london' }, { uid: ++uidCtr, cityId: 'lisbon' }, { uid: ++uidCtr, cityId: 'rome' }, { uid: ++uidCtr, cityId: 'athens' }, { uid: ++uidCtr, cityId: 'istanbul' }, { uid: ++uidCtr, cityId: 'london' }];
        savedTrips.push({ id: 1, name: 'East Asia Loop', emoji: 'üåè', route: t1, mode: 'plane' });
        savedTrips.push({ id: 2, name: 'Mediterranean Arc', emoji: 'üåä', route: t3, mode: 'plane' });
        saveToLocal(); // persist the default trips
      }
      renderTripsBar();
      // Start on routes tab ‚Äî render map after delay so map is ready
      setTimeout(() => renderRouteOnMap(), 300);
    });
  </script>
</body>

</html>{id:'andorralavella_ad', name:"Andorra la Vella", country:"Andorra", flag:'üá¶üá©', lat:42.50779, lng:1.52109,
pop:'20K', tz:'UTC+1', hub:true},